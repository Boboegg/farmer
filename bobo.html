<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°Šåš´è¾²æ¥­ - çŸ¥è­˜ä¸­å¿ƒ (å¤šå…ƒèåˆç‰ˆ)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
        @keyframes bounce-slow { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .animate-bounce-slow { animation: bounce-slow 3s infinite; }
        .body-btn { transition: all 0.3s; }
        .body-btn:hover { transform: scale(1.1); }
        .body-btn.active { background-color: #10b981; color: white; border-color: #059669; box-shadow: 0 0 0 4px #a7f3d0; }
    </style>
</head>
<body class="bg-slate-50">
    
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ä¿®æ­£åœ–ç¤ºè¼‰å…¥å•é¡Œ ---
        const createLucideComponent = (name) => ({ size = 24, className = "", ...props }) => {
            const icon = lucide.icons[name];
            if (!icon) return <span className="text-xs">?</span>;
            return (
                <svg {...icon.attrs} width={size} height={size} className={className} {...props}>
                    {icon.children && icon.children.map(([tag, attrs], index) => {
                        const Tag = tag;
                        return <Tag key={index} {...attrs} />;
                    })}
                </svg>
            );
        };

        const iconList = [
            'Shield', 'Sun', 'AlertTriangle', 'Activity', 'Sprout', 
            'Users', 'BookOpen', 'Phone', 'Download', 'ChevronDown', 
            'ChevronUp', 'Menu', 'X', 'ArrowRight', 'Heart', 'DollarSign',
            'Tractor', 'HelpCircle', 'Video', 'MessageCircle', 'PlayCircle', 
            'Calendar', 'Hammer', 'MapPin', 'ThumbsUp', 'Share2', 'Search',
            'Wind', 'Droplets', 'Mic', 'Globe', 'Clock', 'ClipboardCheck',
            'CheckCircle2', 'FlaskConical', 'User'
        ];

        const Icons = {};
        iconList.forEach(name => { Icons[name] = createLucideComponent(name); });
        
        const { 
            Shield, Sun, AlertTriangle, Activity, Sprout, 
            Users, BookOpen, Phone, Download, ChevronDown, 
            ChevronUp, Menu, X, ArrowRight, Heart, DollarSign,
            Tractor, HelpCircle, Video, MessageCircle, PlayCircle, 
            Calendar, Hammer, MapPin, ThumbsUp, Share2, Search,
            Wind, Droplets, Mic, Globe, Clock, ClipboardCheck,
            CheckCircle2, FlaskConical, User
        } = Icons;

        // --- 1. è³‡æ–™åº« (ä¿ç•™åŸå§‹è³‡æ–™ + æ–°å¢èåˆè³‡æ–™) ---

        const translations = {
            zh: {
                title: "å°Šåš´è¾²æ¥­",
                subtitle: "çŸ¥è­˜ä¸­å¿ƒ",
                heroDesc: "é€£çµæ”¿åºœè³‡æºã€é†«ç™‚å°ˆæ¥­èˆ‡åœ¨åœ°ç¶“é©—ï¼Œè®“è¾²æ¥­æˆç‚ºä¸€ä»½æœ‰å°Šåš´ã€å¯æ°¸çºŒçš„å¿—æ¥­ã€‚",
                todayRisk: "ä»Šæ—¥ç†±å±å®³é¢¨éšª",
                high: "é«˜å±éšª",
                nav: {
                    home: "é¦–é ",
                    start: "å¾äº‹è¾²æ¥­",
                    greenhouse: "æº«å®¤æ©Ÿå…·",
                    safety: "æ€¥æ•‘èˆ‡åœ–å¡", // ä¿®æ”¹åç¨±ï¼Œæš—ç¤ºåŒ…å«æ‡¶äººåŒ…
                    audit: "è¾²å ´é«”æª¢",   // æ–°å¢ï¼šæ¾³æ´²å…ƒç´ 
                    health: "å¥åº·ä¿ƒé€²",   // å°‡åŒ…å«éŸ“åœ‹å…ƒç´ 
                    insurance: "ä¿éšªç¶“æ¿Ÿ",
                    forum: "äº¤æµåœ’åœ°",
                    video: "å½±éŸ³å­¸ç¿’",
                    resources: "è³‡æºä¸‹è¼‰"
                }
            }
        };

        // åŸå§‹æ€¥æ•‘è³‡æ–™
        const safetyData = {
            heat: {
                level: "High Risk",
                symptoms: [
                    { text: "é ­æšˆã€æƒ³åã€é ­å¾ˆç—›", icon: "ğŸ˜µ" },
                    { text: "çš®è†šä¹¾ä¹¾ç‡™ç‡™ (æ²’æµæ±—)", icon: "ğŸ”¥" },
                    { text: "èªªè©±ä¸æ¸…æ¥šã€æ˜å€’", icon: "ğŸ’¤" }
                ],
                actions: [
                    { step: "1. æ‰¾é™°æ¶¼", desc: "è¶•å¿«å»æ¨¹ä¸‹æˆ–é™°å½±è™•", icon: <Wind size={20}/> },
                    { step: "2. è„«è¡£æœ", desc: "è¡£æœé¬†é–‹ã€çš®å¸¶è§£é–‹", icon: <Users size={20}/> },
                    { step: "3. æ½‘å†·æ°´", desc: "èº«é«”æ½‘æ°´é™æº«", icon: <Droplets size={20}/> },
                    { step: "4. æ‰“119", desc: "äººæ˜å€’äº†ç«‹åˆ»å«æ•‘è­·è»Š", icon: <Phone size={20}/> }
                ]
            },
            pesticide: {
                level: "Critical",
                symptoms: [
                    { text: "ç³å­”ç¸®åˆ°å¾ˆå°", icon: "ğŸ‘€" },
                    { text: "ä¸€ç›´æµå£æ°´ã€æµçœ¼æ·š", icon: "ğŸ’¦" },
                    { text: "æ‰‹è…³ä¸€ç›´æŠ–ã€å¸ä¸åˆ°æ°£", icon: "ğŸ’ª" }
                ],
                actions: [
                    { step: "ç¦å‚¬å", desc: "åƒè¬ä¸è¦å‚¬åï¼æœƒç¼å‚·", icon: <X size={20}/> },
                    { step: "æ²–ä¹¾æ·¨", desc: "è„«æ‰é«’è¡£æœï¼Œæ²–æ°´æ´—æ¾¡", icon: <Droplets size={20}/> },
                    { step: "å¸¶ç“¶å­", desc: "æŠŠè¾²è—¥ç“¶å­å¸¶è‘—çµ¦é†«ç”Ÿçœ‹", icon: <BookOpen size={20}/> },
                    { step: "å¿«é€é†«", desc: "æ‰“119 æˆ– æ¯’ç‰©ä¸­å¿ƒ", icon: <Phone size={20}/> }
                ]
            }
        };

        // æ–°å¢ï¼šéŸ“åœ‹é¢¨æ ¼ - è¦–è¦ºåŒ–æ‡¶äººåŒ…è³‡æ–™
        const visualCards = [
            { id: 1, title: "é˜²è­·è¡£ç©¿è„«é †åº", tag: "é¿å…äºŒæ¬¡æ²¾æŸ“", color: "bg-blue-600", content: "è„«æ‰‹å¥—å‰è¦å…ˆæ²–æ°´ï¼Œé¿å…è¾²è—¥æ²¾åˆ°å…§å±¤è¡£ç‰©ã€‚" },
            { id: 2, title: "æ­£ç¢ºæ¬é‹å§¿å‹¢", tag: "ä¿è­·è…°æ¤", color: "bg-emerald-600", content: "é‡ç‰©è¦è²¼è¿‘èº«é«”ï¼Œåˆ©ç”¨å¤§è…¿åŠ›é‡ç«™èµ·ï¼Œè…°èƒŒæŒºç›´ã€‚" },
            { id: 3, title: "é é˜²ç†±è¡°ç«­", tag: "å¤å­£ä¿å‘½", color: "bg-orange-500", content: "æ¯20åˆ†é˜å–ä¸€æ¯æ°´ï¼Œä¸è¦ç­‰åˆ°å£æ¸´æ‰å–ã€‚" }
        ];

        // æ–°å¢ï¼šéŸ“åœ‹é¢¨æ ¼ - èº«é«”åœ°åœ–é‹å‹•è³‡æ–™ (å–ä»£åŸæœ¬ç´”æ–‡å­—åˆ—è¡¨)
        const bodyMapData = {
            neck: { title: "é ¸éƒ¨æ”¾é¬†", desc: "é©åˆï¼šä½é ­æ¡æ”¶æ—ã€é•·æ™‚é–“çœ‹åœ°", steps: ["ä¸‹å·´å…§æ”¶ï¼Œæ„Ÿè¦ºè„–å­å¾Œé¢æ‹‰é•·", "é ­éƒ¨ç·©æ…¢å·¦å³è½‰å‹•", "é›™æ‰‹æŠ±é ­è¼•å£“ï¼Œåœç•™10ç§’"] },
            shoulder: { title: "æ¯›å·¾è½‰è‚©", desc: "é©åˆï¼šå™´è—¥ã€æ‰‹èˆ‰é«˜ä½œæ¥­", steps: ["æ‹¿æ¯›å·¾å…©ç«¯ä¼¸ç›´", "æ…¢æ…¢å¾€ä¸Šèˆ‰é«˜éé ­", "æ„Ÿè¦ºèƒ¸å£æ‹‰é–‹", "ç¶­æŒ 10 ç§’"] },
            back: { title: "è²“ç‰›å¼ä¼¸å±•", desc: "é©åˆï¼šé•·æ™‚é–“å½è…°æ‹”è‰", steps: ["æ‰‹æ‰¶ç”°åŸ‚ï¼Œèº«é«”å¾®å½", "å¸æ°£æ™‚æŠ¬é ­æŒºèƒ¸ (åƒç‰›)", "åæ°£æ™‚ä½é ­çœ‹è‚šè‡ (åƒè²“)", "é‡è¤‡ 10 æ¬¡"] },
            knee: { title: "å¤§è…¿è‚ŒåŠ›å¼·åŒ–", desc: "é©åˆï¼šå¸¸è¹²ä¸‹ç«™èµ·ã€æ¬é‡ç‰©", steps: ["ååœ¨æ¤…å­ä¸Š", "å–®è…³ä¼¸ç›´æŠ¬é«˜", "è…³å°–å‹¾èµ·ï¼Œå¤§è…¿ç”¨åŠ›", "ç¶­æŒ5ç§’å¾Œæ›è…³"] }
        };

        // æ–°å¢ï¼šæ¾³æ´²é¢¨æ ¼ - ç³»çµ±æ€§å¯©æ ¸æ¸…å–®
        const auditCategories = [
            { id: 'machine', title: 'è¾²æ©Ÿå…·å®‰å…¨', icon: <Tractor/>, color: 'blue', items: ["è½‰å‹•è»¸æ˜¯å¦æœ‰é»ƒè‰²è­·è“‹ï¼Ÿ", "æ˜¯å¦æœ‰é˜²ç¿»è¦†ä¿è­·æ¶(ROPS)ï¼Ÿ", "ç‡ˆå…‰èˆ‡ç…è»Šæ˜¯å¦æ­£å¸¸ï¼Ÿ"] },
            { id: 'chem', title: 'åŒ–å­¸å“ç®¡ç†', icon: <FlaskConical/>, color: 'purple', items: ["è¾²è—¥æ«ƒæ˜¯å¦ä¸Šé–ï¼Ÿ", "è¾²è—¥æ˜¯å¦æœ‰åˆ†é¡æ¨™ç¤ºï¼Ÿ", "æ˜¯å¦å‚™æœ‰é˜²è­·è¡£èˆ‡æ²–æ´—è¨­å‚™ï¼Ÿ"] },
            { id: 'env', title: 'ä½œæ¥­ç’°å¢ƒ', icon: <Sun/>, color: 'orange', items: ["æ˜¯å¦æœ‰é«˜æº«ä¼‘æ¯è¨ˆç•«ï¼Ÿ", "ç”°é–“æ˜¯å¦æœ‰å‘æ´æ¨™ç¤ºï¼Ÿ", "ç¨è‡ªä½œæ¥­æ˜¯å¦æœ‰å›å ±æ©Ÿåˆ¶ï¼Ÿ"] }
        ];

        const qaData = [
            { category: "ä¿éšªè¿·æ€", q: "æˆ‘æœ‰è¾²ä¿äº†ï¼Œé‚„éœ€è¦å¥ä¿å—ï¼Ÿ", a: "è¦ï¼å¥ä¿æ˜¯çœ‹é†«ç”Ÿç”¨çš„ï¼Œè¾²ä¿æ˜¯è·æ¥­èº«åˆ†ä¿éšªã€‚å¼·çƒˆå»ºè­°åŠ ä¿ã€Œè¾²æ°‘è·ç½ä¿éšªã€ï¼Œæ¯æœˆåªè¦ä¸€æ¯é£²æ–™éŒ¢ï¼Œå·¥ä½œå—å‚·ä¿éšœå¤šæ›´å¤šã€‚" },
            { category: "è·ç½èªå®š", q: "æˆ‘åœ¨ç”°è£¡æšˆå€’ï¼Œç®—æ˜¯è·æ¥­ç½å®³å—ï¼Ÿ", a: "ç®—ï¼ä½†è¦æœ‰è­‰æ“šã€‚å°±é†«æ™‚ä¸€å®šè¦è·Ÿé†«ç”Ÿèªªã€Œæˆ‘æ˜¯åœ¨å¹¾é»å¹¾åˆ†ã€åœ¨å“ªå€‹ç”°è£¡å·¥ä½œæ™‚æšˆå€’çš„ã€ï¼Œç•™ä¸‹ç´€éŒ„æ‰èƒ½ç”³è«‹çµ¦ä»˜ã€‚" },
        ];

        const videoData = [
            { id: 1, title: "EP1: é‚£äº›å¹´ï¼Œæˆ‘å€‘ä¸€èµ·è¿½çš„é³³æ¢¨", youtubeId: "bL80n414nq0", type: "Podcast", category: "è¾²æ°‘å¿ƒè²", length: "25 min", views: "1.2k", date: "2å¤©å‰", desc: "è«‡é³³æ¢¨è¾²æ¡æ”¶çš„è¾›é…¸ï¼Œèˆ‡è…°ç—›çš„å…±è™•ä¹‹é“ã€‚", coverColor: "bg-purple-600" },
            { id: 2, title: "3åˆ†é˜ç”°é–“ä¼¸å±•æ“ï¼šè²“ç‰›å¼", youtubeId: "nGFe2xwdTB8", type: "Video", category: "å¥åº·ä¿ƒé€²", length: "03:50", views: "3.5k", date: "1é€±å‰", desc: "å°å¤§ç‰©ç†æ²»ç™‚å¸«è¦ªè‡ªç¤ºç¯„ï¼Œèˆ’ç·©ä¸‹èƒŒç—›ã€‚", coverColor: "bg-red-500" },
            { id: 3, title: "è¾²è—¥é˜²è­·è¡£ç©¿è„« SOP æ•™å­¸", youtubeId: "a6uXnmb_BP0&t=1s", type: "Video", category: "è·æ¥­å®‰å…¨", length: "05:20", views: "2.1k", date: "3é€±å‰", desc: "å…ˆè„«æ‰‹å¥—é‚„æ˜¯å…ˆè„«è¡£æœï¼ŸåšéŒ¯æ­¥é©Ÿæ›´å±éšªï¼", coverColor: "bg-red-500" },
        ];

        const forumPosts = [
            { id: 1, author: "æ–°æ‰‹é’è¾²_é˜¿è±ª", avatar: "è±ª", title: "æ€¥ï¼è«‹å•æ°‘é›„å“ªè£¡æœ‰ä¿®å‰²è‰æ©Ÿçš„å¸«å‚…ï¼Ÿ", tag: "ç¶­ä¿®äº’åŠ©", content: "æˆ‘çš„èƒŒè² å¼å‰²è‰æ©Ÿçªç„¶ç™¼ä¸å‹•äº†ï¼Œå¥½åƒæ˜¯åŒ–æ²¹å™¨çš„å•é¡Œï¼Œæœ‰æ²’æœ‰æ¨è–¦çš„å¸«å‚…ï¼Ÿ", likes: 12, comments: 5, time: "2å°æ™‚å‰" },
            { id: 2, author: "æ—ºä¾†ä¼¯", avatar: "æ—º", title: "æœ€è¿‘é³³æ¢¨åƒ¹æ ¼æ³¢å‹•å¤§ï¼Œå¤§å®¶æœ‰ä¿æ”¶å…¥ä¿éšªå—ï¼Ÿ", tag: "ç¶“æ¿Ÿè¨è«–", content: "è½èªªé‚£å€‹å¥§æ—åŒ¹å…‹å¹³å‡æ³•è¨ˆç®—æ¯”è¼ƒå…¬å¹³ï¼Œæœ‰äººç†è³ éå—ï¼Ÿæƒ³è«‹æ•™ç¶“é©—ã€‚", likes: 34, comments: 12, time: "5å°æ™‚å‰" },
        ];

        // --- 3. UI æ¨¡çµ„ ---

        const Badge = ({ children, color = "green" }) => {
            const colors = { green: "bg-emerald-100 text-emerald-700", blue: "bg-blue-100 text-blue-700", purple: "bg-purple-100 text-purple-700", white: "bg-white/90 text-slate-800" };
            return <span className={`text-xs font-bold px-2.5 py-0.5 rounded-full ${colors[color] || colors.green}`}>{children}</span>;
        };

        const SOSButton = ({ onClick, label }) => (
            <button onClick={onClick} className="fixed bottom-6 right-6 z-50 bg-red-600 hover:bg-red-700 text-white p-4 rounded-full shadow-2xl flex items-center gap-2 transition-transform hover:scale-105 active:scale-95 border-4 border-white animate-bounce-slow" title="Emergency">
                <AlertTriangle size={24}/> <span className="font-bold pr-1">{label}</span>
            </button>
        );

        const SectionHeader = ({ icon: Icon, title, subtitle }) => (
            <div className="mb-10 text-center animate-fade-in">
                <div className="inline-flex p-3 bg-emerald-100 rounded-xl mb-4"><Icon className="w-8 h-8 text-emerald-700" /></div>
                <h2 className="text-3xl font-extrabold text-slate-800 mb-2">{title}</h2>
                <p className="text-slate-500 text-lg max-w-2xl mx-auto">{subtitle}</p>
            </div>
        );

        const Accordion = ({ category, question, answer }) => {
            const [isOpen, setIsOpen] = useState(false);
            return (
                <div className="border border-slate-100 bg-white rounded-xl mb-3 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                    <button className="w-full py-4 px-6 flex justify-between items-center text-left focus:outline-none hover:bg-slate-50" onClick={() => setIsOpen(!isOpen)}>
                        <div><Badge color="blue">{category}</Badge><div className="font-bold text-lg text-slate-800 mt-2">{question}</div></div>
                        {isOpen ? <ChevronUp className="text-emerald-600" /> : <ChevronDown className="text-slate-400" />}
                    </button>
                    {isOpen && <div className="px-6 pb-6 text-slate-600 leading-relaxed border-t border-slate-50 pt-4 bg-slate-50/50">{answer}</div>}
                </div>
            );
        };

        const EmergencyCard = ({ data, type }) => {
            const isHeat = type === 'heat';
            const theme = isHeat ? { bg: 'bg-orange-50', border: 'border-orange-500', text: 'text-orange-600', title: "ç†±åˆ°å—ä¸äº† (ä¸­æš‘)" } : { bg: 'bg-red-50', border: 'border-red-600', text: 'text-red-600', title: "è¾²è—¥ä¸­æ¯’" };
            return (
                <div className={`rounded-2xl bg-white border-l-8 ${theme.border} shadow-lg overflow-hidden`}>
                    <div className={`${theme.bg} p-6 border-b border-white/50 flex justify-between items-start`}>
                        <div>
                            <div className={`flex items-center gap-2 mb-1 font-bold ${theme.text} uppercase text-sm`}>{data.level}</div>
                            <h3 className="text-2xl font-extrabold text-slate-800">{theme.title}</h3>
                        </div>
                        <Phone className={`${theme.text} opacity-20`} size={40} />
                    </div>
                    <div className="p-6 grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 className="font-bold text-slate-700 mb-4 flex items-center gap-2"><Activity size={18} className="text-slate-400"/> å±éšªå¾µå…†</h4>
                            <ul className="space-y-3">{data.symptoms.map((sym, i) => <li key={i} className="flex items-center gap-3 bg-slate-50 p-3 rounded-xl border border-slate-100"><span className="text-2xl">{sym.icon}</span><span className="font-bold text-slate-700">{sym.text}</span></li>)}</ul>
                        </div>
                        <div>
                            <h4 className="font-bold text-slate-700 mb-4 flex items-center gap-2"><Shield size={18} className="text-slate-400"/> é¦¬ä¸Šé€™æ¨£åšï¼</h4>
                            <div className="grid grid-cols-2 gap-3">{data.actions.map((act, i) => <div key={i} className={`${theme.bg} p-3 rounded-xl flex flex-col items-center text-center border border-white/50`}><div className={`mb-2 p-2 bg-white rounded-full ${theme.text} shadow-sm`}>{act.icon}</div><span className="font-bold text-slate-900 block mb-1">{act.step}</span><span className="text-xs text-slate-600">{act.desc}</span></div>)}</div>
                        </div>
                    </div>
                </div>
            );
        };

        // --- 4. é é¢çµ„ä»¶ ---

        const HomePage = ({ setPage, lang, currentDate }) => (
            <div className="animate-fade-in pb-12">
                {/* Dashboard Header: èåˆæ¾³æ´²çš„å„€è¡¨æ¿æ¦‚å¿µ */}
                <div className="bg-emerald-900 text-white pt-24 pb-32 px-4 rounded-b-[2.5rem] shadow-xl relative overflow-hidden">
                    <div className="max-w-7xl mx-auto relative z-10">
                        <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
                            <div>
                                <div className="inline-flex items-center gap-2 bg-emerald-800/50 backdrop-blur-md px-4 py-1.5 rounded-full text-emerald-100 text-sm font-medium border border-emerald-700/50 mb-4">
                                    <MapPin size={14}/> å˜‰ç¾©ç¸£æ°‘é›„é„‰ | <Calendar size={14}/> {currentDate}
                                </div>
                                <h1 className="text-4xl md:text-6xl font-extrabold tracking-tight">
                                    {lang.title}<span className="text-emerald-400">{lang.subtitle}</span>
                                </h1>
                            </div>
                            {/* å³æ™‚é¢¨éšªé¡¯ç¤º */}
                            <div className="bg-white/10 backdrop-blur-md border border-white/10 rounded-2xl p-4 w-full md:w-auto flex items-center gap-4 text-left shadow-lg">
                                <div className="bg-orange-500 p-3 rounded-xl text-white shadow-lg animate-pulse"><Sun size={32} /></div>
                                <div>
                                    <h3 className="font-bold text-white text-lg">{lang.todayRisk}ï¼š{lang.high}</h3>
                                    <p className="text-emerald-100 text-sm opacity-80">11:00 - 14:00 é¿å…æˆ¶å¤–ä½œæ¥­</p>
                                </div>
                            </div>
                        </div>
                        <p className="text-lg md:text-xl text-emerald-100/80 max-w-2xl font-light mb-10">{lang.heroDesc}</p>
                    </div>
                </div>

                {/* Identity Cards (ä¿ç•™åŸå§‹è¨­è¨ˆï¼šèº«ä»½å…¥å£) */}
                <div className="max-w-7xl mx-auto px-4 -mt-20 relative z-20 mb-16">
                    <div className="grid md:grid-cols-3 gap-6">
                        {[
                            { title: "æˆ‘æƒ³å‹™è¾² (æ–°æ‰‹)", icon: <Sprout size={32}/>, desc: "çœ‹æ¸…é¢¨éšªï¼ŒçœŸå¯¦è©•è«–æ­éœ²ã€‚", color: "from-blue-500 to-blue-600", page: "startFarming" },
                            { title: "æˆ‘æ˜¯é’è¾² / åœ¨è·", icon: <Tractor size={32}/>, desc: "æº«å®¤è·å®‰èˆ‡çœå·¥æ©Ÿå…·å°ç­–ã€‚", color: "from-emerald-500 to-emerald-600", page: "greenhouse" },
                            { title: "æˆ‘æ˜¯è³‡æ·±è¾²å‹", icon: <Heart size={32}/>, desc: "ç— ç—›æ”¹å–„èˆ‡è·ç½çµ¦ä»˜ç”³è«‹ã€‚", color: "from-orange-500 to-orange-600", page: "healthPromo" }
                        ].map((item, i) => (
                            <div key={i} onClick={() => setPage(item.page)} className="bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer p-8 group border border-slate-100">
                                <div className={`w-14 h-14 rounded-xl bg-gradient-to-br ${item.color} text-white flex items-center justify-center mb-6 shadow-md group-hover:scale-110 transition-transform`}>{item.icon}</div>
                                <h3 className="text-2xl font-bold text-slate-800 mb-3">{item.title}</h3>
                                <p className="text-slate-500 mb-6 leading-relaxed">{item.desc}</p>
                                <div className="flex items-center text-sm font-bold text-emerald-600 group-hover:text-emerald-700">é€²å…¥å°ˆå€ <ArrowRight size={16} className="ml-2 group-hover:translate-x-1 transition-transform"/></div>
                            </div>
                        ))}
                    </div>
                </div>
                
                {/* é›™æ¬„è³‡è¨Šæµ (ä¿ç•™åŸå§‹è¨­è¨ˆ) */}
                <div className="max-w-7xl mx-auto px-4 grid lg:grid-cols-2 gap-8 mb-12">
                     <div className="bg-white rounded-3xl p-8 border border-slate-100 shadow-lg">
                        <div className="flex justify-between items-center mb-6 border-b border-slate-50 pb-4">
                            <h3 className="text-2xl font-bold text-slate-800 flex items-center gap-3"><MessageCircle className="text-blue-600 fill-blue-100"/> æœ€æ–°äº¤æµå‹•æ…‹</h3>
                            <button onClick={() => setPage('forum')} className="text-sm font-bold text-blue-600 hover:bg-blue-50 px-3 py-1 rounded-full transition-colors">æŸ¥çœ‹æ›´å¤š</button>
                        </div>
                        <div className="space-y-4">
                            {forumPosts.map((post) => (
                                <div key={post.id} className="flex gap-4 p-4 rounded-2xl bg-slate-50 cursor-pointer" onClick={() => setPage('forum')}>
                                    <div className="w-12 h-12 rounded-full bg-white border border-slate-100 flex items-center justify-center font-bold text-slate-500 flex-shrink-0 shadow-sm">{post.avatar}</div>
                                    <div className="flex-grow">
                                        <h4 className="font-bold text-slate-800 line-clamp-1">{post.title}</h4>
                                        <p className="text-sm text-slate-500 line-clamp-1 mt-1">{post.content}</p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                    {/* å½±ç‰‡å€å¡Š */}
                    <div className="bg-slate-900 rounded-3xl p-8 shadow-lg text-white relative overflow-hidden">
                        <div className="absolute top-0 right-0 w-64 h-64 bg-emerald-500 rounded-full blur-[80px] opacity-20 -mr-16 -mt-16 pointer-events-none"></div>
                        <div className="relative z-10">
                            <div className="flex justify-between items-center mb-6 border-b border-white/10 pb-4">
                                <h3 className="text-2xl font-bold flex items-center gap-3"><PlayCircle className="text-emerald-400 fill-emerald-900"/> å½±éŸ³å­¸ç¿’</h3>
                                <button onClick={() => setPage('videos')} className="text-sm font-bold text-emerald-400 hover:text-emerald-300">æŸ¥çœ‹æ›´å¤š</button>
                            </div>
                            <div className="bg-white/5 rounded-2xl p-4 mb-4 backdrop-blur-sm border border-white/10 cursor-pointer flex gap-5" onClick={() => setPage('videos')}>
                                <div className="w-32 h-24 bg-black rounded-xl flex items-center justify-center relative overflow-hidden border border-white/10">
                                     <img src={`https://img.youtube.com/vi/${videoData[0].youtubeId}/mqdefault.jpg`} className="w-full h-full object-cover opacity-80"/>
                                     <PlayCircle size={32} className="text-white absolute z-10"/>
                                </div>
                                <div className="flex flex-col justify-center">
                                    <Badge color="white">{videoData[0].type}</Badge>
                                    <h4 className="font-bold text-lg mb-1 mt-2 line-clamp-1">{videoData[0].title}</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        );

        // Audit Page: æ–°å¢çš„æ¾³æ´²å…ƒç´  (è¾²å ´é«”æª¢)
        const AuditPage = () => {
            const [checked, setChecked] = useState({});
            const toggle = (id) => setChecked(prev => ({...prev, [id]: !prev[id]}));

            return (
                <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                    <SectionHeader icon={ClipboardCheck} title="è¾²å ´é«”æª¢ (Audit)" subtitle="æºè‡ªæ¾³æ´² AgHealth çš„ç³»çµ±æ€§æª¢æŸ¥ï¼Œæ¯å¤©3åˆ†é˜ï¼Œå®‰å…¨å‡ç´šã€‚" />
                    <div className="space-y-6">
                        {auditCategories.map(cat => (
                            <div key={cat.id} className="bg-white rounded-2xl shadow-md overflow-hidden border border-slate-100">
                                <div className={`bg-${cat.color}-50 p-4 flex items-center gap-3 border-b border-${cat.color}-100`}>
                                    <div className={`text-${cat.color}-600`}>{cat.icon}</div>
                                    <h3 className={`font-bold text-xl text-${cat.color}-900`}>{cat.title}</h3>
                                </div>
                                <div className="p-6 space-y-3">
                                    {cat.items.map((item, idx) => {
                                        const key = `${cat.id}-${idx}`;
                                        return (
                                            <div key={idx} onClick={() => toggle(key)} className={`p-4 rounded-xl border-2 cursor-pointer flex items-center gap-3 transition-colors ${checked[key] ? `border-${cat.color}-500 bg-${cat.color}-50` : 'border-slate-100 hover:border-slate-200'}`}>
                                                <div className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${checked[key] ? `bg-${cat.color}-500 border-${cat.color}-500 text-white` : 'border-slate-300'}`}>
                                                    {checked[key] && <CheckCircle2 size={16}/>}
                                                </div>
                                                <span className="font-bold text-slate-700">{item}</span>
                                            </div>
                                        )
                                    })}
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            )
        };

        // Safety Page: ä¿ç•™åŸå§‹SOSï¼Œä¸¦åŠ å…¥éŸ“åœ‹çš„è¦–è¦ºåŒ–åœ–å¡
        const SafetyPage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader icon={Shield} title="æ€¥æ•‘èˆ‡å®‰å…¨æ‡¶äººåŒ…" subtitle="SOS Guide & Visual Cards" />
                
                {/* åŸå§‹çš„æ€¥æ•‘å¡ç‰‡ */}
                <div className="space-y-8 mb-16">
                    <EmergencyCard data={safetyData.heat} type="heat" />
                    <EmergencyCard data={safetyData.pesticide} type="pesticide" />
                </div>

                {/* æ–°å¢ï¼šéŸ“åœ‹é¢¨æ ¼è¦–è¦ºåŒ–åœ–å¡ (èåˆå€) */}
                <div className="border-t border-slate-200 pt-12">
                    <h3 className="text-2xl font-bold text-center mb-8 flex items-center justify-center gap-2"><BookOpen className="text-blue-500"/> å®‰å…¨åœ–å¡æ‡¶äººåŒ… (Visual Guides)</h3>
                    <div className="grid md:grid-cols-3 gap-6">
                        {visualCards.map(card => (
                            <div key={card.id} className="bg-white rounded-2xl shadow-lg overflow-hidden group">
                                <div className={`${card.color} h-32 flex items-center justify-center text-white text-4xl font-bold`}>
                                    {card.title.substring(0, 2)}
                                </div>
                                <div className="p-6">
                                    <h4 className="font-bold text-lg mb-2">{card.title}</h4>
                                    <Badge color="white" className="border">{card.tag}</Badge>
                                    <p className="text-slate-500 mt-4 text-sm leading-relaxed">{card.content}</p>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        );

        // Health Page: åŸå§‹å…§å®¹å‡ç´šï¼ŒåŠ å…¥éŸ“åœ‹ Body Map
        const HealthPromoPage = () => {
            const [selectedPart, setSelectedPart] = useState('back');
            const currentEx = bodyMapData[selectedPart];

            return (
                <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                    <SectionHeader icon={Activity} title="å¥åº·ä¿ƒé€²èˆ‡ä¼¸å±•" subtitle="æ¯å¤© 3 åˆ†é˜ï¼Œé é˜²è·æ¥­å‚·å®³ã€‚" />

                    {/* æ–°å¢ï¼šäº’å‹•å¼äººé«”åœ°åœ– (Body Map) */}
                    <div className="bg-white rounded-3xl shadow-xl border border-slate-100 p-8 mb-12 grid md:grid-cols-2 gap-8">
                        <div className="relative h-80 bg-slate-100 rounded-2xl flex items-center justify-center bg-[url('https://www.transparenttextures.com/patterns/graphy.png')]">
                            {/* æ¨¡æ“¬èº«é«”æŒ‰éˆ• */}
                            <button onClick={() => setSelectedPart('neck')} className={`body-btn absolute top-4 w-20 h-20 rounded-full bg-white border-2 border-slate-200 flex items-center justify-center font-bold text-slate-700 shadow-md ${selectedPart === 'neck' ? 'active' : ''}`}>é ¸éƒ¨</button>
                            <button onClick={() => setSelectedPart('shoulder')} className={`body-btn absolute top-28 left-4 w-20 h-20 rounded-full bg-white border-2 border-slate-200 flex items-center justify-center font-bold text-slate-700 shadow-md ${selectedPart === 'shoulder' ? 'active' : ''}`}>è‚©è†€</button>
                            <button onClick={() => setSelectedPart('back')} className={`body-btn absolute top-28 right-4 w-20 h-20 rounded-full bg-white border-2 border-slate-200 flex items-center justify-center font-bold text-slate-700 shadow-md ${selectedPart === 'back' ? 'active' : ''}`}>è…°èƒŒ</button>
                            <button onClick={() => setSelectedPart('knee')} className={`body-btn absolute bottom-4 w-20 h-20 rounded-full bg-white border-2 border-slate-200 flex items-center justify-center font-bold text-slate-700 shadow-md ${selectedPart === 'knee' ? 'active' : ''}`}>è†è“‹</button>
                        </div>
                        <div className="flex flex-col justify-center">
                            <h3 className="text-2xl font-bold text-emerald-800 mb-2">{currentEx.title}</h3>
                            <p className="text-slate-500 mb-6">{currentEx.desc}</p>
                            <div className="bg-emerald-50 rounded-xl p-6">
                                <ul className="space-y-3">
                                    {currentEx.steps.map((step, i) => (
                                        <li key={i} className="flex items-start gap-3">
                                            <span className="w-6 h-6 rounded-full bg-emerald-200 text-emerald-800 flex items-center justify-center font-bold text-xs flex-shrink-0">{i+1}</span>
                                            <span className="text-slate-700">{step}</span>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        </div>
                    </div>

                    {/* ä¿ç•™åŸå§‹å…§å®¹ï¼šè³‡æ·±è¾²å‹å°ˆå€ */}
                    <div className="bg-orange-50 p-8 rounded-3xl text-center">
                        <h3 className="text-2xl font-bold text-orange-900 mb-4">è³‡æ·±è¾²å‹å°ˆå€</h3>
                        <p className="text-orange-800 mb-6 max-w-2xl mx-auto">å¦‚æœç—›å¤ªä¹…ï¼Œè«‹ä¸è¦åªè²¼è—¥å¸ƒï¼Œå»ºè­°è‡³<b>ã€Œè·æ¥­é†«å­¸ç§‘ã€</b>å°±è¨ºã€‚</p>
                        <button className="bg-white text-slate-700 border border-slate-200 hover:bg-slate-50 shadow-sm px-6 py-3 rounded-xl font-bold" onClick={() => window.open('https://www.ntuh.gov.tw/EOM-CMOID/Fpage.action?muid=4091&fid=3918', '_blank')}>å°‹æ‰¾å°å¤§é›²æ—åˆ†é™¢è·æ¥­é†«å­¸ç§‘</button>
                    </div>
                </div>
            );
        };

        // ä¿ç•™å…¶ä»–æ‰€æœ‰åŸå§‹é é¢ (StartFarming, Greenhouse, Economics, Forum, Videos, Resources)
        // ç‚ºäº†ç¯€çœç¯‡å¹…ï¼Œé€™è£¡æˆ‘å°‡å®ƒå€‘èˆ‡ä¹‹å‰ç‰ˆæœ¬çš„ä»£ç¢¼ä¿æŒä¸€è‡´ï¼Œä½†ç¢ºä¿è¢«åŒ…å«åœ¨æœ€çµ‚æ¸²æŸ“ä¸­
        
        const StartFarmingPage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader icon={Sprout} title="å¾äº‹è¾²æ¥­ï¼šçœŸå¯¦é¢æ­éœ²" subtitle="å‰è¼©çš„çœŸå¿ƒè©±ã€‚" />
                <div className="space-y-6 mb-12">
                    <div className="bg-white p-8 rounded-2xl shadow-sm border-l-8 border-yellow-400">
                        <div className="flex items-center gap-2 mb-3"><div className="flex text-yellow-400"><span className="text-xl">â˜…â˜…</span><span className="text-slate-200 text-xl">â˜…â˜…â˜…</span></div><span className="font-bold text-slate-800 text-lg">æ”¶å…¥çœŸçš„ä¸ç©©å®š</span></div>
                        <p className="text-slate-600 italic text-lg leading-relaxed">"å¤§å®¶éƒ½èªªé’è¾²è¿”é„‰å¾ˆæ£’ï¼Œä½†å‰ä¸‰å¹´çœŸçš„è¦æœ‰ã€åƒè€æœ¬ã€çš„å¿ƒç†æº–å‚™ã€‚å»ºè­°æ–°æ‰‹ä¸€å®šè¦æº–å‚™å¥½é å‚™é‡‘ã€‚"</p>
                        <p className="text-right text-sm text-slate-400 mt-4 font-bold">- å˜‰ç¾©é’è¾²çš„å¿ƒè²</p>
                    </div>
                    <div className="bg-white p-8 rounded-2xl shadow-sm border-l-8 border-red-400">
                         <div className="flex items-center gap-2 mb-3"><div className="flex text-yellow-400"><span className="text-xl">â˜…</span><span className="text-slate-200 text-xl">â˜…â˜…â˜…â˜…</span></div><span className="font-bold text-slate-800 text-lg">èº«é«”å£å¾—æ¯”æƒ³åƒå¿«</span></div>
                        <p className="text-slate-600 italic text-lg leading-relaxed">"ä¸è¦ä»¥ç‚ºå¹´è¼•å°±æ˜¯æœ¬éŒ¢ï¼Œè­·å…·å’Œå§¿å‹¢æœ€é‡è¦ï¼Œä¸ç„¶è³ºçš„éŒ¢éƒ½æ‹¿å»çœ‹é†«ç”Ÿã€‚"</p>
                        <p className="text-right text-sm text-slate-400 mt-4 font-bold">- é³³æ¢¨è¾² å³å…ˆç”Ÿ</p>
                    </div>
                </div>
            </div>
        );

        const GreenhousePage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader icon={Tractor} title="æº«å®¤èˆ‡çœå·¥æ©Ÿå…·" subtitle="è®“ç§‘æŠ€å¹«ä½ æµæ±—ã€‚" />
                <div className="grid md:grid-cols-2 gap-8 mb-12">
                    <div className="bg-white p-6 rounded-2xl shadow-md border border-slate-100">
                        <h3 className="text-xl font-bold mb-4 text-emerald-800 flex items-center gap-2"><Sun/> æº«å®¤ç†±å±å®³å°ç­–</h3>
                        <ul className="space-y-4 text-slate-600">
                            <li><span className="text-orange-500 font-bold">1.</span> è£é¢¨æ‰‡ï¼šåœ¨äººç«™çš„é«˜åº¦ã€‚</li>
                            <li><span className="text-orange-500 font-bold">2.</span> èº²å¤ªé™½ï¼šå–„ç”¨é»‘ç¶²ã€‚</li>
                        </ul>
                    </div>
                    <div className="bg-white p-6 rounded-2xl shadow-md border border-slate-100">
                        <h3 className="text-xl font-bold mb-4 text-blue-800 flex items-center gap-2"><Tractor/> çœå·¥æ©Ÿå…·æ¨è–¦</h3>
                        <ul className="space-y-4 text-slate-600">
                            <li><span className="text-blue-500 font-bold">1.</span> ç„¡äººæ©Ÿå™´è—¥ã€‚</li>
                            <li><span className="text-blue-500 font-bold">2.</span> æ¡æ”¶æ¬é‹æ©Ÿã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>
        );

        const EconomicsPage = () => (
             <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader icon={DollarSign} title="ä¿éšªèˆ‡ç¶“æ¿Ÿå®‰å…¨" subtitle="å¢åŠ ä½ çš„è²¡å‹™éŸŒæ€§ã€‚" />
                <div className="bg-white p-8 rounded-3xl shadow-sm border border-slate-100 mb-12">
                     <h3 className="text-2xl font-bold mb-8 text-center text-slate-800">ä¿éšªæ±ºç­–æ¨¹</h3>
                     <div className="grid md:grid-cols-2 gap-8">
                        <div className="bg-blue-50/50 rounded-2xl p-6 border border-blue-100">
                            <h4 className="text-xl font-bold text-blue-800 mb-4"><Users size={24} className="inline"/> æ“”å¿ƒã€Œäººã€å—å‚·</h4>
                            <ul className="space-y-4"><li className="bg-blue-600 text-white p-4 rounded-xl shadow-lg">è¾²æ°‘è·ç½ä¿éšª (å¿…ä¿!)</li></ul>
                        </div>
                        <div className="bg-green-50/50 rounded-2xl p-6 border border-green-100">
                            <h4 className="text-xl font-bold text-green-800 mb-4"><Sprout size={24} className="inline"/> æ“”å¿ƒã€Œä½œç‰©ã€æ²’æ”¶æˆ</h4>
                            <ul className="space-y-4"><li className="bg-green-100 p-4 rounded-xl border border-green-200">ä½œç‰©æ”¶å…¥ä¿éšª (å«å¥§æ—åŒ¹å…‹å¹³å‡æ³•)</li></ul>
                        </div>
                     </div>
                </div>
            </div>
        );

        const ForumPage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader icon={MessageCircle} title="è¾²æ°‘äº¤æµåœ’åœ°" subtitle="QA èˆ‡ è¨è«–" />
                <div className="mb-12">
                     <h3 className="font-bold text-xl mb-4 text-slate-700">å¸¸è¦‹è¿·æ€ QA</h3>
                     {qaData.map((item, i) => <Accordion key={i} category={item.category} question={item.q} answer={item.a} />)}
                </div>
            </div>
        );

        const VideosPage = () => (
            <div className="max-w-6xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader icon={PlayCircle} title="å½±éŸ³å­¸ç¿’å°ˆå€" subtitle="ç”¨çœ‹ç”¨è½éƒ½æ–¹ä¾¿ã€‚" />
                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                     {videoData.map((video) => (
                        <div key={video.id} className="bg-white rounded-2xl shadow-sm overflow-hidden border border-slate-100">
                             <div className="aspect-video w-full bg-black relative">
                                <iframe className="absolute top-0 left-0 w-full h-full" src={`https://www.youtube.com/embed/${video.youtubeId}`} frameBorder="0" allowFullScreen></iframe>
                             </div>
                             <div className="p-6">
                                <h3 className="font-bold text-lg text-slate-800 line-clamp-2">{video.title}</h3>
                             </div>
                        </div>
                     ))}
                </div>
            </div>
        );

        const ResourcesPage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader icon={Download} title="è³‡æºä¸‹è¼‰" subtitle="å¸¶å¾—èµ°çš„å·¥å…·åŒ…ã€‚" />
                <div className="grid gap-4">
                    {[{name: "ç”°é–“è­·èº«æ“æµ·å ±", size: "PDF"}, {name: "è¾²è—¥é˜²è­· SOP å°å¡", size: "PDF"}, {name: "è¨˜å¸³ Excel è¡¨", size: "XLS"}].map((item, i) => (
                        <div key={i} className="bg-white p-6 rounded-2xl shadow-sm flex justify-between items-center border border-slate-100 hover:border-emerald-500 transition-colors cursor-pointer group">
                             <div className="flex items-center gap-4"><div className="bg-slate-100 p-3 rounded-lg text-slate-500 group-hover:bg-emerald-100 group-hover:text-emerald-600"><BookOpen size={24}/></div><span className="font-bold text-lg text-slate-700">{item.name}</span></div>
                             <span className="text-sm font-bold text-slate-400 bg-slate-50 px-3 py-1 rounded-full">{item.size}</span>
                        </div>
                    ))}
                </div>
            </div>
        );

        // --- 5. ä¸»ç¨‹å¼ ---

        function App() {
            const [page, setPage] = useState('home');
            const [menuOpen, setMenuOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);
            const [currentDate, setCurrentDate] = useState('');
            const t = translations['zh'];

            useEffect(() => {
                window.scrollTo(0, 0); 
                setMenuOpen(false); 
                const handleScroll = () => setScrolled(window.scrollY > 20);
                window.addEventListener('scroll', handleScroll);
                const date = new Date();
                setCurrentDate(date.toLocaleDateString('zh-TW', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' }));
                return () => window.removeEventListener('scroll', handleScroll);
            }, [page]);

            const navItems = [
                { id: 'home', label: t.nav.home },
                { id: 'startFarming', label: t.nav.start },
                { id: 'greenhouse', label: t.nav.greenhouse },
                { id: 'safety', label: t.nav.safety },
                { id: 'audit', label: t.nav.audit }, // æ–°å¢
                { id: 'healthPromo', label: t.nav.health },
                { id: 'economics', label: t.nav.insurance },
                { id: 'forum', label: t.nav.forum },
                { id: 'videos', label: t.nav.video },
                { id: 'resources', label: t.nav.resources },
            ];

            const renderPage = () => {
                switch (page) {
                    case 'home': return <HomePage setPage={setPage} lang={t} currentDate={currentDate} />;
                    case 'startFarming': return <StartFarmingPage />;
                    case 'greenhouse': return <GreenhousePage />;
                    case 'safety': return <SafetyPage />;
                    case 'audit': return <AuditPage />; // æ–°å¢
                    case 'healthPromo': return <HealthPromoPage />;
                    case 'economics': return <EconomicsPage />;
                    case 'forum': return <ForumPage />;
                    case 'videos': return <VideosPage />;
                    case 'resources': return <ResourcesPage />;
                    default: return <HomePage setPage={setPage} lang={t} currentDate={currentDate} />;
                }
            };

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800 selection:bg-emerald-200">
                    <nav className={`fixed top-0 w-full z-50 transition-all duration-300 ${scrolled ? 'bg-white/95 backdrop-blur-md shadow-md py-2' : 'bg-emerald-900 text-white py-3'}`}>
                        <div className="max-w-[1400px] mx-auto px-4">
                            <div className="flex justify-between items-center">
                                <div className="flex items-center cursor-pointer gap-2 shrink-0" onClick={() => setPage('home')}>
                                     <img src="Logo.PNG" alt="Logo" className="w-10 h-10 object-contain bg-white rounded-lg" />
                                    <span className={`font-extrabold text-xl tracking-tight hidden sm:block ${scrolled ? 'text-emerald-900' : 'text-white'}`}>{t.title}</span>
                                </div>
                                <div className="hidden lg:flex items-center gap-1 overflow-x-auto no-scrollbar mx-4">
                                    {navItems.map(item => (
                                        <button key={item.id} onClick={() => setPage(item.id)} className={`px-3 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all ${page === item.id ? (scrolled ? 'bg-emerald-100 text-emerald-700' : 'bg-white/20 text-white') : (scrolled ? 'text-slate-500 hover:bg-slate-100' : 'text-emerald-100 hover:text-white hover:bg-white/10')}`}>
                                            {item.label}
                                        </button>
                                    ))}
                                </div>
                                <div className="flex items-center gap-2">
                                    <button onClick={() => setMenuOpen(!menuOpen)} className={`lg:hidden p-2 ${scrolled ? 'text-slate-800' : 'text-white'}`}>{menuOpen ? <X size={24}/> : <Menu size={24}/>}</button>
                                </div>
                            </div>
                        </div>
                        {menuOpen && (
                            <div className="lg:hidden absolute top-full left-0 w-full bg-white border-t border-slate-100 shadow-xl animate-fade-in">
                                <div className="p-4 space-y-2">
                                    {navItems.map(item => <button key={item.id} onClick={() => setPage(item.id)} className={`block w-full text-left px-4 py-3 rounded-xl text-base font-bold ${page === item.id ? 'bg-emerald-50 text-emerald-700' : 'text-slate-600 hover:bg-slate-50'}`}>{item.label}</button>)}
                                </div>
                            </div>
                        )}
                    </nav>
                    <main className="min-h-screen pt-16">{renderPage()}</main>
                    <SOSButton onClick={() => setPage('safety')} label="SOS" />
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
