<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°Šåš´è¾²æ¥­ - çŸ¥è­˜ä¸­å¿ƒ</title>
    
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React 18 UMD -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }

        .body-btn { transition: all 0.3s; }
        .body-btn:hover { transform: scale(1.1); }
        .body-btn.active {
            background-color: #10b981;
            color: white;
            border-color: #059669;
            box-shadow: 0 0 0 4px #a7f3d0;
        }

        .hero-bg {
            background-image:
                radial-gradient(circle at 0 0, rgba(16,185,129,0.25), transparent 55%),
                radial-gradient(circle at 100% 0, rgba(59,130,246,0.18), transparent 55%);
        }
        .card-pattern {
            background-image: radial-gradient(circle at 1px 1px, rgba(148,163,184,0.12) 1px, transparent 0);
            background-size: 18px 18px;
        }
    </style>
</head>
<body class="bg-slate-50">
    
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Lucide ICON FIX ---
        const createLucideComponent = (name) => ({ size = 24, className = "", ...props }) => {
            const icon = lucide.icons[name];
            if (!icon) return <span className="text-xs">?</span>;
            return (
                <svg
                    {...icon.attrs}
                    width={size}
                    height={size}
                    className={className}
                    {...props}
                >
                    {icon.children && icon.children.map(([tag, attrs], index) => {
                        const Tag = tag;
                        return <Tag key={index} {...attrs} />;
                    })}
                </svg>
            );
        };

        const iconList = [
            'Shield', 'Sun', 'AlertTriangle', 'Activity', 'Sprout', 
            'Users', 'BookOpen', 'Phone', 'Download', 'ChevronDown', 
            'ChevronUp', 'Menu', 'X', 'ArrowRight', 'Heart', 'DollarSign',
            'Tractor', 'HelpCircle', 'Video', 'MessageCircle', 'PlayCircle', 
            'Calendar', 'Hammer', 'MapPin', 'ThumbsUp', 'Share2', 'Search',
            'Wind', 'Droplets', 'Mic', 'Globe', 'Clock', 'ClipboardCheck',
            'CheckCircle2', 'FlaskConical', 'User'
        ];

        const Icons = {};
        iconList.forEach(name => { Icons[name] = createLucideComponent(name); });

        const { 
            Shield, Sun, AlertTriangle, Activity, Sprout, 
            Users, BookOpen, Phone, Download, ChevronDown, 
            ChevronUp, Menu, X, ArrowRight, Heart, DollarSign,
            Tractor, HelpCircle, Video, MessageCircle, PlayCircle, 
            Calendar, Hammer, MapPin, ThumbsUp, Share2, Search,
            Wind, Droplets, Mic, Globe, Clock, ClipboardCheck,
            CheckCircle2, FlaskConical, User
        } = Icons;

        // --- 1. æ–‡æ¡ˆ / è³‡æ–™ ---

        const translations = {
            zh: {
                title: "å°Šåš´è¾²æ¥­",
                subtitle: "çŸ¥è­˜ä¸­å¿ƒ",
                heroDesc: "é€£çµæ”¿åºœè³‡æºã€é†«ç™‚å°ˆæ¥­èˆ‡åœ¨åœ°ç¶“é©—ï¼Œè®“è¾²æ¥­æˆç‚ºä¸€ä»½æœ‰å°Šåš´ã€å¯æ°¸çºŒçš„å¿—æ¥­ã€‚",
                todayRisk: "ä»Šæ—¥ç†±å±å®³é¢¨éšª",
                high: "é«˜å±éšª",
                nav: {
                    home: "é¦–é ",
                    start: "å¾äº‹è¾²æ¥­",
                    greenhouse: "æº«å®¤æ©Ÿå…·",
                    safety: "æ€¥æ•‘èˆ‡åœ–å¡",
                    audit: "è¾²å ´é«”æª¢",
                    health: "å¥åº·ä¿ƒé€²",
                    insurance: "ä¿éšªç¶“æ¿Ÿ",
                    forum: "äº¤æµåœ’åœ°",
                    video: "å½±éŸ³å­¸ç¿’",
                    resources: "è³‡æºä¸‹è¼‰"
                },
                identity: {
                    new: "æˆ‘æƒ³å‹™è¾² (æ–°æ‰‹)",
                    young: "æˆ‘æ˜¯é’è¾² / åœ¨è·",
                    senior: "æˆ‘æ˜¯è³‡æ·±è¾²å‹",
                    enter: "é€²å…¥å°ˆå€"
                },
                section: {
                    forum: "æœ€æ–°äº¤æµå‹•æ…‹",
                    video: "ç†±é–€å½±éŸ³æ¨è–¦",
                    more: "æŸ¥çœ‹æ›´å¤š"
                },
                redCard: {
                    heatTitle: "ç†±åˆ°å—ä¸äº† (ä¸­æš‘)",
                    pestTitle: "è¾²è—¥ä¸­æ¯’",
                    heatSub: "æ³¨æ„ï¼æµä¸å‡ºæ±—æ˜¯æœ€å±éšªçš„è¨Šè™Ÿ",
                    pestSub: "åˆ¥ç¡¬æ’ï¼é€™æœƒå‚·åˆ°ç¥ç¶“"
                }
            }
        };

        const safetyData = {
            heat: {
                level: "High Risk",
                symptoms: [
                    { text: "é ­æšˆã€æƒ³åã€é ­å¾ˆç—›", icon: "ğŸ˜µ" },
                    { text: "çš®è†šä¹¾ä¹¾ç‡™ç‡™ (æ²’æµæ±—)", icon: "ğŸ”¥" },
                    { text: "èªªè©±ä¸æ¸…æ¥šã€æ˜å€’", icon: "ğŸ’¤" }
                ],
                actions: [
                    { step: "1. æ‰¾é™°æ¶¼", desc: "è¶•å¿«å»æ¨¹ä¸‹æˆ–é™°å½±è™•", icon: <Wind size={20}/> },
                    { step: "2. è„«è¡£æœ", desc: "è¡£æœé¬†é–‹ã€çš®å¸¶è§£é–‹", icon: <Users size={20}/> },
                    { step: "3. æ½‘å†·æ°´", desc: "èº«é«”æ½‘æ°´é™æº«", icon: <Droplets size={20}/> },
                    { step: "4. æ‰“119", desc: "äººæ˜å€’äº†ç«‹åˆ»å«æ•‘è­·è»Š", icon: <Phone size={20}/> }
                ]
            },
            pesticide: {
                level: "Critical",
                symptoms: [
                    { text: "ç³å­”ç¸®åˆ°å¾ˆå°", icon: "ğŸ‘€" },
                    { text: "ä¸€ç›´æµå£æ°´ã€æµçœ¼æ·š", icon: "ğŸ’¦" },
                    { text: "æ‰‹è…³ä¸€ç›´æŠ–ã€å¸ä¸åˆ°æ°£", icon: "ğŸ’ª" }
                ],
                actions: [
                    { step: "ç¦å‚¬å", desc: "åƒè¬ä¸è¦å‚¬åï¼æœƒç¼å‚·", icon: <X size={20}/> },
                    { step: "æ²–ä¹¾æ·¨", desc: "è„«æ‰é«’è¡£æœï¼Œæ²–æ°´æ´—æ¾¡", icon: <Droplets size={20}/> },
                    { step: "å¸¶ç“¶å­", desc: "æŠŠè¾²è—¥ç“¶å­å¸¶è‘—çµ¦é†«ç”Ÿçœ‹", icon: <BookOpen size={20}/> },
                    { step: "å¿«é€é†«", desc: "æ‰“119 æˆ– æ¯’ç‰©ä¸­å¿ƒ", icon: <Phone size={20}/> }
                ]
            }
        };

        const visualCards = [
            { id: 1, title: "é˜²è­·è¡£ç©¿è„«é †åº", tag: "é¿å…äºŒæ¬¡æ²¾æŸ“", color: "bg-emerald-700", content: "è„«æ‰‹å¥—å‰è¦å…ˆæ²–æ°´ï¼Œé¿å…è¾²è—¥æ²¾åˆ°å…§å±¤è¡£ç‰©ã€‚" },
            { id: 2, title: "æ­£ç¢ºæ¬é‹å§¿å‹¢", tag: "ä¿è­·è…°æ¤", color: "bg-lime-700", content: "é‡ç‰©è¦è²¼è¿‘èº«é«”ï¼Œåˆ©ç”¨å¤§è…¿åŠ›é‡ç«™èµ·ï¼Œè…°èƒŒæŒºç›´ã€‚" },
            { id: 3, title: "é é˜²ç†±è¡°ç«­", tag: "å¤å­£ä¿å‘½", color: "bg-amber-500", content: "æ¯20åˆ†é˜å–ä¸€æ¯æ°´ï¼Œä¸è¦ç­‰åˆ°å£æ¸´æ‰å–ã€‚" }
        ];

        const bodyMapData = {
            neck: {
                title: "é ¸éƒ¨æ”¾é¬†",
                desc: "é©åˆï¼šä½é ­æ¡æ”¶æ—ã€é•·æ™‚é–“çœ‹åœ°åœ–æˆ–æ‰‹æ©Ÿçš„äººã€‚",
                steps: [
                    "ä¸‹å·´å¾®å¾®å…§æ”¶ï¼Œæ„Ÿè¦ºè„–å­å¾Œé¢æ‹‰é•·ã€‚",
                    "é ­éƒ¨ç·©æ…¢å·¦å³è½‰å‹•ï¼Œå„åœç•™ 5 ç§’ã€‚",
                    "é›™æ‰‹æŠ±é ­è¼•å£“ï¼Œä¸‹å·´å¾€èƒ¸å£é è¿‘ï¼Œç¶­æŒ 10 ç§’ã€‚"
                ]
            },
            shoulder: {
                title: "æ¯›å·¾è½‰è‚©",
                desc: "é©åˆï¼šå™´è—¥ã€æ‰‹èˆ‰é«˜ä½œæ¥­çš„æ—ç¾¤ã€‚",
                steps: [
                    "æ‹¿æ¯›å·¾å…©ç«¯ä¼¸ç›´ï¼Œèˆ‡è‚©åŒå¯¬ã€‚",
                    "æ…¢æ…¢å¾€ä¸Šèˆ‰é«˜éé ­ï¼Œæ„Ÿè¦ºè‚©è†€æ‰“é–‹ã€‚",
                    "æ„Ÿè¦ºèƒ¸å£æ‹‰é–‹ï¼Œç¶­æŒ 10 ç§’ã€‚",
                    "æ”¾ä¸‹ä¼‘æ¯ï¼Œå†é‡è¤‡ 5 æ¬¡ã€‚"
                ]
            },
            back: {
                title: "è²“ç‰›å¼ä¼¸å±•",
                desc: "é©åˆï¼šé•·æ™‚é–“å½è…°æ‹”è‰ã€æ¡æ”¶çš„äººã€‚",
                steps: [
                    "æ‰‹æ‰¶ç©©å›ºæ”¯æ’ç‰©ï¼ˆå¦‚ç”°åŸ‚ã€æ¡Œå­ï¼‰ï¼Œèº«é«”å¾®å½ã€‚",
                    "å¸æ°£æ™‚æŠ¬é ­æŒºèƒ¸ã€å±è‚¡ç¿¹èµ·ï¼ˆåƒç‰›ï¼‰ã€‚",
                    "åæ°£æ™‚ä½é ­çœ‹è‚šè‡ï¼ŒèƒŒæ‹±èµ·ä¾†ï¼ˆåƒè²“ï¼‰ã€‚",
                    "é‡è¤‡ 10 æ¬¡ï¼Œå‹•ä½œæ”¾æ…¢ã€æ­é…å‘¼å¸ã€‚"
                ]
            },
            knee: {
                title: "å¤§è…¿è‚ŒåŠ›å¼·åŒ–",
                desc: "é©åˆï¼šå¸¸è¹²ä¸‹ç«™èµ·ã€æ¬é‡ç‰©å®¹æ˜“è†ç—›çš„äººã€‚",
                steps: [
                    "ååœ¨æ¤…å­ä¸Šï¼ŒèƒŒéƒ¨æŒºç›´ã€‚",
                    "å–®è…³ä¼¸ç›´æŠ¬é«˜è‡³èˆ‡åœ°é¢å¹³è¡Œã€‚",
                    "è…³å°–å‹¾èµ·ï¼Œå¤§è…¿ç”¨åŠ›ç·Šç¹ƒï¼Œç¶­æŒ 5 ç§’ã€‚",
                    "æ…¢æ…¢æ”¾ä¸‹ï¼Œå·¦å³è…³å„é‡è¤‡ 10 æ¬¡ã€‚"
                ]
            }
        };

        const auditCategories = [
            {
                id: 'machine',
                title: 'è¾²æ©Ÿå…·å®‰å…¨',
                icon: <Tractor/>,
                theme: 'blue',
                items: [
                    "è½‰å‹•è»¸æ˜¯å¦æœ‰é»ƒè‰²è­·è“‹ï¼Ÿ",
                    "æ˜¯å¦æœ‰é˜²ç¿»è¦†ä¿è­·æ¶ (ROPS)ï¼Ÿ",
                    "ç‡ˆå…‰èˆ‡ç…è»Šæ˜¯å¦æ­£å¸¸ï¼Ÿ",
                    "ä¸Šä¸‹æ©Ÿæ™‚æ˜¯å¦ä½¿ç”¨æ‰¶æ‰‹èˆ‡è¸æ¿ï¼Ÿ"
                ]
            },
            {
                id: 'chem',
                title: 'åŒ–å­¸å“ç®¡ç†',
                icon: <FlaskConical/>,
                theme: 'purple',
                items: [
                    "è¾²è—¥æ«ƒæ˜¯å¦ä¸Šé–ï¼Œä¸”é é›¢å…’ç«¥ï¼Ÿ",
                    "è¾²è—¥æ˜¯å¦æœ‰æ¸…æ¥šçš„åˆ†é¡èˆ‡æ¨™ç¤ºï¼Ÿ",
                    "æ˜¯å¦å‚™æœ‰é˜²è­·è¡£ã€æ‰‹å¥—èˆ‡è­·ç›®é¡ï¼Ÿ",
                    "æ˜¯å¦æœ‰å¯ç”¨çš„æ¸…æ°´æˆ–æ²–æ´—è¨­å‚™ï¼Ÿ"
                ]
            },
            {
                id: 'env',
                title: 'ä½œæ¥­ç’°å¢ƒ',
                icon: <Sun/>,
                theme: 'amber',
                items: [
                    "æ˜¯å¦æœ‰é«˜æº«ä¼‘æ¯èˆ‡è£œæ°´è¨ˆç•«ï¼Ÿ",
                    "ç”°é–“æ˜¯å¦æœ‰å‘æ´ã€é›»ç·šç­‰å±éšªæ¨™ç¤ºï¼Ÿ",
                    "æ˜¯å¦é¿å…ç¨è‡ªä½œæ¥­ï¼Œæˆ–æœ‰å›å ±æ©Ÿåˆ¶ï¼Ÿ",
                    "é›¨å¤©ã€å¤œé–“ä½œæ¥­æ˜¯å¦æœ‰è¶³å¤ ç…§æ˜ï¼Ÿ"
                ]
            }
        ];

        const qaData = [
            {
                category: "ä¿éšªè¿·æ€",
                q: "æˆ‘æœ‰è¾²ä¿äº†ï¼Œé‚„éœ€è¦å¥ä¿å—ï¼Ÿ",
                a: "éœ€è¦ï¼å¥ä¿æ˜¯ã€Œçœ‹é†«ç”Ÿç”¨çš„ä¿éšªã€ï¼Œè¾²ä¿æ˜¯ä½ çš„ã€Œè·æ¥­èº«åˆ†ä¿éšªã€ã€‚å…©å€‹ç”¨é€”ä¸åŒã€‚å»ºè­°å¦å¤–åŠ ä¿ã€Œè¾²æ°‘è·ç½ä¿éšªã€ï¼Œæ¯æœˆå¤§æ¦‚åªè¦ä¸€æ¯é£²æ–™éŒ¢ï¼Œè¬ä¸€å·¥ä½œå—å‚·æˆ–ä¸­æš‘ï¼Œçµ¦ä»˜æœƒå·®å¾ˆå¤šã€‚"
            },
            {
                category: "è·ç½èªå®š",
                q: "æˆ‘åœ¨ç”°è£¡æšˆå€’ï¼Œç®—æ˜¯è·æ¥­ç½å®³å—ï¼Ÿ",
                a: "å¤šæ•¸æƒ…æ³ä¸‹ç®—ï¼Œä½†è¦æœ‰è­‰æ“šã€‚å°±é†«æ™‚ä¸€å®šè¦ä¸»å‹•è·Ÿé†«å¸«èªªï¼šã€Œæˆ‘æ˜¯å¹¾é»å¹¾åˆ†ã€åœ¨å“ªå€‹ç”°è£¡å·¥ä½œæ™‚æšˆå€’çš„ã€‚ã€è«‹é†«å¸«å¹«å¿™å¯«åœ¨ç—…æ­·è£¡ã€‚ä¹‹å¾Œç”³è«‹è¾²æ°‘è·ç½ä¿éšªæˆ–å…¶ä»–è£œåŠ©æ™‚ï¼Œé€™äº›ç´€éŒ„å°±æ˜¯é—œéµã€‚"
            },
            {
                category: "å¯¦å‹™ç¶“é©—",
                q: "ç™¼ç”Ÿæ„å¤–ç•¶ä¸‹ï¼Œæˆ‘ç¬¬ä¸€å€‹æ­¥é©Ÿæ‡‰è©²æ˜¯ä»€éº¼ï¼Ÿ",
                a: "å…ˆé¡§å®‰å…¨å†é¡§ä¿éšªã€‚å…ˆé›¢é–‹å±éšªç’°å¢ƒã€ç¢ºä¿å‘¼å¸é †æš¢ï¼Œå„˜å¿«å°±é†«æˆ–å«æ•‘è­·è»Šã€‚åŒè¡Œçš„ä¼™ä¼´å¯ä»¥å¹«å¿™æ‹ç…§ã€è¨˜ä¸‹æ™‚é–“èˆ‡åœ°é»ï¼Œé€™äº›ç´€éŒ„ä¹‹å¾Œéƒ½èƒ½å¹«åŠ©é‡æ¸…æ˜¯å¦å±¬æ–¼è·æ¥­ç½å®³ã€‚"
            }
        ];

        const videoData = [
            { id: 1, title: "EP1: é‚£äº›å¹´ï¼Œæˆ‘å€‘ä¸€èµ·è¿½çš„é³³æ¢¨",youtubeId: "bL80n414nq0", type: "Podcast", category: "è¾²æ°‘å¿ƒè²", length: "25 min", views: "1.2k", date: "2å¤©å‰", desc: "è«‡é³³æ¢¨è¾²æ¡æ”¶çš„è¾›é…¸ï¼Œèˆ‡è…°ç—›çš„å…±è™•ä¹‹é“ã€‚", coverColor: "bg-purple-600" },
            { id: 2, title: "3åˆ†é˜ç”°é–“ä¼¸å±•æ“ï¼šè²“ç‰›å¼",youtubeId: "nGFe2xwdTB8", type: "Video", category: "å¥åº·ä¿ƒé€²", length: "03:50", views: "3.5k", date: "1é€±å‰", desc: "å°å¤§ç‰©ç†æ²»ç™‚å¸«è¦ªè‡ªç¤ºç¯„ï¼Œèˆ’ç·©ä¸‹èƒŒç—›ã€‚", coverColor: "bg-red-500" },
            { id: 3, title: "è¾²è—¥é˜²è­·è¡£ç©¿è„« SOP æ•™å­¸",youtubeId: "a6uXnmb_BP0&t=1s", type: "Video", category: "è·æ¥­å®‰å…¨", length: "05:20", views: "2.1k", date: "3é€±å‰", desc: "å…ˆè„«æ‰‹å¥—é‚„æ˜¯å…ˆè„«è¡£æœï¼ŸåšéŒ¯æ­¥é©Ÿæ›´å±éšªï¼", coverColor: "bg-red-500" },
        ];

        const forumPosts = [
            { id: 1, author: "æ–°æ‰‹é’è¾²_é˜¿è±ª", avatar: "è±ª", title: "æ€¥ï¼è«‹å•æ°‘é›„å“ªè£¡æœ‰ä¿®å‰²è‰æ©Ÿçš„å¸«å‚…ï¼Ÿ", tag: "ç¶­ä¿®äº’åŠ©", content: "æˆ‘çš„èƒŒè² å¼å‰²è‰æ©Ÿçªç„¶ç™¼ä¸å‹•äº†ï¼Œå¥½åƒæ˜¯åŒ–æ²¹å™¨çš„å•é¡Œï¼Œæœ‰æ²’æœ‰æ¨è–¦çš„å¸«å‚…ï¼Ÿ", likes: 12, comments: 5, time: "2å°æ™‚å‰" },
            { id: 2, author: "æ—ºä¾†ä¼¯", avatar: "æ—º", title: "æœ€è¿‘é³³æ¢¨åƒ¹æ ¼æ³¢å‹•å¤§ï¼Œå¤§å®¶æœ‰ä¿æ”¶å…¥ä¿éšªå—ï¼Ÿ", tag: "ç¶“æ¿Ÿè¨è«–", content: "è½èªªé‚£å€‹å¥§æ—åŒ¹å…‹å¹³å‡æ³•è¨ˆç®—æ¯”è¼ƒå…¬å¹³ï¼Œæœ‰äººç†è³ éå—ï¼Ÿæƒ³è«‹æ•™ç¶“é©—ã€‚", likes: 34, comments: 12, time: "5å°æ™‚å‰" },
            { id: 3, author: "æº«å®¤å°é™³", avatar: "é™³", title: "[è´ˆé€] é€™è£¡æœ‰å¤šé¤˜çš„ 60% é®é™½ç¶²", tag: "ç‰©è³‡äº¤æµ", content: "æ›´æ›æ–°ç¶²å­ï¼ŒèˆŠçš„é‚„å ªç”¨ï¼Œç´„ 10 ç±³é•·ï¼Œæœ‰éœ€è¦çš„è¾²å‹å¯ä»¥è‡ªå–ã€‚", likes: 8, comments: 3, time: "1å¤©å‰" },
        ];

        const exerciseData = [
            { title: "è²“ç‰›å¼ (æ•‘æ•‘ä½ çš„è…°)", target: "é•·æ™‚é–“å½è…°æ‹”è‰çš„äºº", steps: ["æ‰‹æ‰¶ç”°åŸ‚ï¼Œèº«é«”å¾®å½", "å¸æ°£æ™‚æŠ¬é ­æŒºèƒ¸ (åƒç‰›)", "åæ°£æ™‚ä½é ­çœ‹è‚šè‡ (åƒè²“)", "é‡è¤‡ 10 æ¬¡"] },
            { title: "æŠ±è†ä¼¸å±• (æ”¾é¬†ä¸‹èƒŒ)", target: "æ¬é‡ç‰©è…°ç— çš„äºº", steps: ["å¹³èººä¸‹ä¾†", "é›™æ‰‹æŠ±è†å¾€èƒ¸å£æ‹‰", "åœç•™ 30 ç§’", "æ„Ÿè¦ºä¸‹èƒŒæ”¾é¬†"] },
            { title: "æ¯›å·¾è½‰è‚© (æ”¾é¬†è‚©è†€)", target: "å™´è—¥ã€æ‰‹èˆ‰é«˜çš„äºº", steps: ["æ‹¿æ¯›å·¾å…©ç«¯ä¼¸ç›´", "æ…¢æ…¢å¾€ä¸Šèˆ‰é«˜", "æ„Ÿè¦ºèƒ¸å£æ‹‰é–‹", "ç¶­æŒ 10 ç§’"] }
        ];

        // --- 3. UI Components ---

        const Badge = ({ children, color = "green" }) => {
            const colors = {
                green: "bg-emerald-100 text-emerald-700",
                blue: "bg-sky-100 text-sky-700",
                purple: "bg-purple-100 text-purple-700",
                red: "bg-red-100 text-red-700",
                orange: "bg-amber-100 text-amber-700",
                gray: "bg-gray-100 text-gray-700",
                white: "bg-white/90 text-slate-800"
            };
            return <span className={`text-xs font-bold px-2.5 py-0.5 rounded-full ${colors[color] || colors.gray}`}>{children}</span>;
        };

        const SectionHeader = ({ icon: Icon, title, subtitle }) => (
            <div className="mb-10 text-center animate-fade-in">
                <div className="inline-flex p-3 bg-emerald-100 rounded-xl mb-4">
                    <Icon className="w-8 h-8 text-emerald-700" />
                </div>
                <h2 className="text-3xl font-extrabold text-slate-800 mb-2">{title}</h2>
                <p className="text-slate-500 text-lg max-w-2xl mx-auto">{subtitle}</p>
            </div>
        );

        const ActionButton = ({ children, onClick, variant = "primary", className = "" }) => {
            const variants = {
                primary: "bg-emerald-600 text-white hover:bg-emerald-700 shadow-md",
                secondary: "bg-white text-slate-700 border border-slate-200 hover:bg-slate-50 shadow-sm",
                outline: "border-2 border-emerald-600 text-emerald-600 hover:bg-emerald-50"
            };
            return (
                <button
                    className={`px-6 py-3 rounded-xl font-bold transition-all active:scale-95 flex items-center justify-center gap-2 ${variants[variant]} ${className}`}
                    onClick={onClick}
                >
                    {children}
                </button>
            );
        };

        const EmergencyCard = ({ data, type, lang }) => {
            const isHeat = type === 'heat';
            const theme = isHeat
                ? { bg: 'bg-amber-50', border: 'border-amber-500', text: 'text-amber-600', sub: 'text-amber-800' }
                : { bg: 'bg-rose-50', border: 'border-rose-600', text: 'text-rose-600', sub: 'text-rose-800' };
            
            const title = isHeat ? lang.redCard.heatTitle : lang.redCard.pestTitle;
            const subtitle = isHeat ? lang.redCard.heatSub : lang.redCard.pestSub;

            return (
                <div className={`rounded-2xl bg-white border-l-8 ${theme.border} shadow-lg overflow-hidden`}>
                    <div className={`${theme.bg} p-6 border-b border-white/50 flex justify-between items-start`}>
                        <div>
                            <div className={`flex items-center gap-2 mb-1 font-bold ${theme.text} uppercase text-sm tracking-wider`}>
                                <AlertTriangle size={18}/> {data.level}
                            </div>
                            <h3 className="text-2xl font-extrabold text-slate-800">{title}</h3>
                            <p className={`${theme.sub} mt-1 font-medium`}>{subtitle}</p>
                        </div>
                        <Phone className={`${theme.text} opacity-20`} size={40} />
                    </div>
                    
                    <div className="p-6 grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 className="font-bold text-slate-700 mb-4 flex items-center gap-2">
                                <Activity size={18} className="text-slate-400"/> å±éšªå¾µå…† (Symptoms)
                            </h4>
                            <ul className="space-y-3">
                                {data.symptoms.map((sym, i) => (
                                    <li key={i} className="flex items-center gap-3 bg-slate-50 p-3 rounded-xl border border-slate-100">
                                        <span className="text-2xl">{sym.icon}</span>
                                        <span className="font-bold text-slate-700">{sym.text}</span>
                                    </li>
                                ))}
                            </ul>
                        </div>

                        <div>
                            <h4 className="font-bold text-slate-700 mb-4 flex items-center gap-2">
                                <Shield size={18} className="text-slate-400"/> é¦¬ä¸Šé€™æ¨£åšï¼(Action)
                            </h4>
                            <div className="grid grid-cols-2 gap-3">
                                {data.actions.map((act, i) => (
                                    <div key={i} className={`${theme.bg} p-3 rounded-xl flex flex-col items-center text-center border border-white/50`}>
                                        <div className={`mb-2 p-2 bg-white rounded-full ${theme.text} shadow-sm`}>{act.icon}</div>
                                        <span className="font-bold text-slate-900 block mb-1">{act.step}</span>
                                        <span className="text-xs text-slate-600 leading-tight">{act.desc}</span>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const Accordion = ({ category, question, answer }) => {
            const [isOpen, setIsOpen] = useState(false);
            return (
                <div className="border border-slate-100 bg-white rounded-xl mb-3 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                    <button
                        className="w-full py-4 px-6 flex justify-between items-center text-left focus:outline-none hover:bg-slate-50"
                        onClick={() => setIsOpen(!isOpen)}
                    >
                        <div>
                            <Badge color="blue">{category}</Badge>
                            <div className="font-bold text-lg text-slate-800 mt-2">{question}</div>
                        </div>
                        {isOpen ? <ChevronUp className="text-emerald-600" /> : <ChevronDown className="text-slate-400" />}
                    </button>
                    {isOpen && (
                        <div className="px-6 pb-6 text-slate-600 leading-relaxed border-t border-slate-50 pt-4 bg-slate-50/50">
                            {answer}
                        </div>
                    )}
                </div>
            );
        };

        // --- 4. é¦–é  ---

        const HomePage = ({ setPage, lang, currentDate }) => (
            <div className="animate-fade-in pb-12">
                {/* Hero */}
                <div className="hero-bg bg-emerald-900 text-white pt-24 pb-32 px-4 rounded-b-[2.5rem] shadow-xl relative overflow-hidden">
                    <div className="absolute inset-y-0 right-0 opacity-20 hidden md:block">
                        <div className="h-full w-64 bg-gradient-to-b from-emerald-500/30 via-transparent to-emerald-700/40 blur-3xl"></div>
                    </div>
                    <div className="max-w-7xl mx-auto relative z-10">
                        <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6">
                            <div>
                                <div className="inline-flex items-center gap-2 bg-emerald-800/50 backdrop-blur-md px-4 py-1.5 rounded-full text-emerald-100 text-sm font-medium border border-emerald-700/50 mb-4">
                                    <MapPin size={14}/> å˜‰ç¾©ç¸£æ°‘é›„é„‰ | <Calendar size={14}/> {currentDate}
                                </div>
                                <h1 className="text-4xl md:text-6xl font-extrabold tracking-tight flex flex-wrap items-baseline gap-2">
                                    <span>{lang.title}</span>
                                    <span className="text-emerald-200 text-2xl md:text-4xl">{lang.subtitle}</span>
                                </h1>
                            </div>
                            <div className="bg-white/10 backdrop-blur-md border border-white/10 rounded-2xl p-4 w-full md:w-auto flex items-center gap-4 text-left shadow-lg">
                                <div className="bg-amber-500 p-3 rounded-xl text-white shadow-lg animate-pulse">
                                    <Sun size={32} />
                                </div>
                                <div>
                                    <h3 className="font-bold text-white text-lg">
                                        {lang.todayRisk}ï¼š{lang.high}
                                    </h3>
                                    <p className="text-emerald-100 text-sm opacity-80">11:00 - 14:00 é¿å…æˆ¶å¤–ä½œæ¥­</p>
                                </div>
                            </div>
                        </div>
                        <p className="text-lg md:text-xl text-emerald-100/80 max-w-2xl font-light mb-10">
                            {lang.heroDesc}
                        </p>
                    </div>
                </div>

                {/* èº«åˆ†å…¥å£å¡ç‰‡ */}
                <div className="max-w-7xl mx-auto px-4 -mt-20 relative z-20 mb-16">
                    <div className="grid md:grid-cols-3 gap-6">
                        {[
                            { 
                                title: lang.identity.new,
                                icon: <Sprout size={32}/>, 
                                desc: "ç¬¬ä¸€æ¬¡è¸é€²è¾²æ¥­ï¼Œå…ˆææ‡‚çœŸå¯¦é¢¨éšªã€æ”¶å…¥èˆ‡èº«é«”è² æ“”ã€‚", 
                                color: "from-emerald-500 to-teal-500", 
                                page: "newFarmerHub" 
                            },
                            { 
                                title: lang.identity.young,
                                icon: <Tractor size={32}/>, 
                                desc: "æ­£åœ¨æ‰“æ‹¼çš„é’è¾²ï¼Œåˆ©ç”¨æ©Ÿå…·èˆ‡åˆ¶åº¦æ¸›å°‘é«”åŠ›èˆ‡æ„å¤–ã€‚", 
                                color: "from-teal-500 to-sky-500", 
                                page: "youngFarmerHub" 
                            },
                            { 
                                title: lang.identity.senior,
                                icon: <Heart size={32}/>, 
                                desc: "ç¨®äº†ä¸€è¼©å­ç”°ï¼Œèº«é«”èˆ‡æ¬Šç›Šéƒ½å€¼å¾—è¢«å¥½å¥½ç…§é¡§ã€‚", 
                                color: "from-amber-500 to-rose-500", 
                                page: "seniorFarmerHub" 
                            }
                        ].map((item, i) => (
                            <div 
                                key={i}
                                onClick={() => setPage(item.page)} 
                                className="bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer p-8 group border border-slate-100 card-pattern"
                            >
                                <div className={`w-14 h-14 rounded-xl bg-gradient-to-br ${item.color} text-white flex items-center justify-center mb-6 shadow-md group-hover:scale-110 transition-transform`}>
                                    {item.icon}
                                </div>
                                <h3 className="text-2xl font-bold text-slate-800 mb-3">{item.title}</h3>
                                <p className="text-slate-600 mb-6 leading-relaxed text-sm">{item.desc}</p>
                                <div className="flex items-center text-sm font-bold text-emerald-700 group-hover:text-emerald-900">
                                    {lang.identity.enter}
                                    <ArrowRight size={16} className="ml-2 group-hover:translate-x-1 transition-transform"/>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>

                {/* é›™æ¬„è³‡è¨Šæµ */}
                <div className="max-w-7xl mx-auto px-4 grid lg:grid-cols-2 gap-8 mb-12">
                    {/* å·¦ï¼šäº¤æµåœ’åœ° */}
                    <div className="bg-white rounded-3xl p-8 border border-slate-100 shadow-lg">
                        <div className="flex justify-between items-center mb-6 border-b border-slate-50 pb-4">
                            <h3 className="text-2xl font-bold text-slate-800 flex items-center gap-3">
                                <MessageCircle className="text-emerald-600 fill-emerald-50"/> {lang.section.forum}
                            </h3>
                            <button
                                onClick={() => setPage('forum')}
                                className="text-sm font-bold text-emerald-700 hover:bg-emerald-50 px-3 py-1 rounded-full transition-colors"
                            >
                                {lang.section.more}
                            </button>
                        </div>
                        <div className="space-y-4">
                            {forumPosts.map((post) => (
                                <div
                                    key={post.id}
                                    className="flex gap-4 p-4 rounded-2xl bg-slate-50 hover:bg-emerald-50/50 transition-colors cursor-pointer border border-transparent hover:border-emerald-100 group"
                                    onClick={() => setPage('forum')}
                                >
                                    <div className="w-12 h-12 rounded-full bg-white border border-slate-100 flex items-center justify-center font-bold text-slate-500 flex-shrink-0 shadow-sm group-hover:text-emerald-700 group-hover:border-emerald-200">
                                        {post.avatar}
                                    </div>
                                    <div className="flex-grow">
                                        <div className="flex justify-between items-start">
                                            <h4 className="font-bold text-slate-800 line-clamp-1 group-hover:text-emerald-800">{post.title}</h4>
                                            <span className="text-xs text-slate-400 whitespace-nowrap">{post.time}</span>
                                        </div>
                                        <p className="text-sm text-slate-500 line-clamp-1 mt-1 mb-2">{post.content}</p>
                                        <div className="flex gap-3 text-xs text-slate-400 font-medium">
                                            <Badge color="green">{post.tag}</Badge>
                                            <span className="flex items-center gap-1 ml-auto">
                                                <MessageCircle size={14}/> {post.comments}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* å³ï¼šå½±éŸ³å°ˆå€ */}
                    <div className="bg-gradient-to-br from-slate-900 via-slate-950 to-slate-900 rounded-3xl p-8 shadow-lg text-white relative overflow-hidden">
                        <div className="absolute -top-10 -right-10 w-64 h-64 bg-emerald-500/40 rounded-full blur-[80px] pointer-events-none"></div>
                        <div className="relative z-10">
                            <div className="flex justify-between items-center mb-6 border-b border-white/10 pb-4">
                                <h3 className="text-2xl font-bold flex items-center gap-3">
                                    <PlayCircle className="text-emerald-400 fill-emerald-900"/> {lang.section.video}
                                </h3>
                                <button
                                    onClick={() => setPage('videos')}
                                    className="text-sm font-bold text-emerald-300 hover:text-emerald-200 transition-colors"
                                >
                                    {lang.section.more}
                                </button>
                            </div>

                            <div
                                className="bg-white/5 rounded-2xl p-4 mb-4 backdrop-blur-sm border border-white/10 cursor-pointer hover:bg-white/10 transition-colors group"
                                onClick={() => setPage('videos')}
                            >
                                <div className="flex gap-5">
                                    <div className="w-32 h-24 bg-black rounded-xl flex items-center justify-center flex-shrink-0 relative overflow-hidden border border-white/10">
                                        {videoData[0] && videoData[0].youtubeId ? (
                                            <img
                                                src={`https://img.youtube.com/vi/${videoData[0].youtubeId}/mqdefault.jpg`}
                                                alt="thumbnail"
                                                className="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"
                                            />
                                        ) : (
                                            <div className="w-full h-full bg-emerald-900"></div>
                                        )}
                                        <PlayCircle size={32} className="text-white absolute z-10 drop-shadow-md group-hover:scale-110 transition-transform"/>
                                    </div>
                                    <div className="flex flex-col justify-center">
                                        <div className="mb-2">
                                            <Badge color="white">{videoData[0]?.type || 'Video'}</Badge>
                                        </div>
                                        <h4 className="font-bold text-lg mb-1 group-hover:text-emerald-300 transition-colors line-clamp-1">
                                            {videoData[0]?.title}
                                        </h4>
                                        <p className="text-sm text-slate-300 line-clamp-1">
                                            {videoData[0]?.desc}
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div className="space-y-3">
                                {videoData.slice(1, 3).map((video) => (
                                    <div
                                        key={video.id}
                                        className="flex items-center gap-4 p-3 rounded-xl hover:bg-white/5 cursor-pointer text-slate-300 hover:text-white transition-colors border border-transparent hover:border-white/5"
                                        onClick={() => setPage('videos')}
                                    >
                                        <div className="w-10 h-10 rounded-lg bg-black/50 overflow-hidden flex-shrink-0 border border-white/10">
                                            {video.youtubeId ? (
                                                <img
                                                    src={`https://img.youtube.com/vi/${video.youtubeId}/default.jpg`}
                                                    className="w-full h-full object-cover"
                                                />
                                            ) : (
                                                <div className="flex items-center justify-center h-full">
                                                    <PlayCircle size={16}/>
                                                </div>
                                            )}
                                        </div>
                                        <span className="font-medium truncate flex-grow text-sm md:text-base">{video.title}</span>
                                        <span className="text-xs opacity-50 whitespace-nowrap">{video.views}</span>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        );

        // --- 5. ä¸»é¡Œé ï¼šSafety / Audit / StartFarming / Greenhouse / HealthPromo / Economics / Forum / Videos / Resources ---

        const SafetyPage = ({ lang }) => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader 
                    icon={Shield} 
                    title="æ€¥æ•‘èˆ‡å®‰å…¨æ‡¶äººåŒ…"
                    subtitle="SOS æŒ‡å—èˆ‡è¦–è¦ºåŒ–åœ–å¡ï¼Œé—œéµæ™‚åˆ»ä¸€çœ‹å°±æ‡‚ã€‚"
                />
                <div className="space-y-8 mb-16">
                    <EmergencyCard data={safetyData.heat} type="heat" lang={lang} />
                    <EmergencyCard data={safetyData.pesticide} type="pesticide" lang={lang} />
                </div>
                <div className="border-t border-slate-200 pt-12">
                    <h3 className="text-2xl font-bold text-center mb-8 flex items-center justify-center gap-2">
                        <BookOpen className="text-emerald-600"/> å®‰å…¨åœ–å¡æ‡¶äººåŒ… (Visual Guides)
                    </h3>
                    <div className="grid md:grid-cols-3 gap-6">
                        {visualCards.map(card => (
                            <div key={card.id} className="bg-white rounded-2xl shadow-lg overflow-hidden group">
                                <div className={`${card.color} h-32 flex items-center justify-center text-white text-4xl font-bold`}>
                                    {card.title.substring(0, 2)}
                                </div>
                                <div className="p-6">
                                    <h4 className="font-bold text-lg mb-2">{card.title}</h4>
                                    <Badge color="white">{card.tag}</Badge>
                                    <p className="text-slate-500 mt-4 text-sm leading-relaxed">{card.content}</p>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
                <div className="mt-12 text-center">
                    <div className="inline-block bg-slate-100 rounded-xl p-6">
                        <p className="text-slate-600 mb-4 font-bold">Medical Support / å°ˆæ¥­è«®è©¢</p>
                        <div className="flex flex-wrap gap-4 justify-center">
                            <a
                                href="tel:02-2871-7121"
                                className="flex items-center gap-2 bg-white text-slate-800 px-5 py-3 rounded-lg shadow-sm font-bold border border-slate-200 hover:bg-slate-50"
                            >
                                <Phone size={18}/> æ¯’ç‰©ä¸­å¿ƒ (24H): 02-2871-7121
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        );

        const AuditPage = () => {
            const [checked, setChecked] = useState({});
            const totalItems = auditCategories.reduce((sum, cat) => sum + cat.items.length, 0);
            const checkedCount = Object.values(checked).filter(Boolean).length;
            const progress = Math.round((checkedCount / totalItems) * 100);

            let summaryTitle = "é‚„æ²’é–‹å§‹æª¢æŸ¥";
            let summaryDesc = "å…ˆå¾å…¶ä¸­ä¸€å€‹å€å¡Šé–‹å§‹å‹¾é¸ï¼Œçœ‹çœ‹ä½ çš„è¾²å ´æœ‰æ²’æœ‰æ˜é¡¯çš„é¢¨éšªé»ã€‚";
            let summaryColor = "bg-slate-100 text-slate-700 border-slate-200";

            if (checkedCount > 0 && checkedCount < totalItems / 3) {
                summaryTitle = "éœ€è¦å„ªå…ˆæ”¹å–„";
                summaryDesc = "ç›®å‰å‹¾é¸çš„é …ç›®è¼ƒå°‘ï¼Œä»£è¡¨é‚„æœ‰ä¸å°‘å®‰å…¨ç´°ç¯€å¯ä»¥è£œå¼·ï¼Œå»ºè­°å…ˆå¾è¾²æ©Ÿå…·è­·ç½©èˆ‡åŒ–å­¸å“ç®¡ç†é–‹å§‹ã€‚";
                summaryColor = "bg-rose-50 text-rose-800 border-rose-200";
            } else if (checkedCount >= totalItems / 3 && checkedCount < (totalItems * 2) / 3) {
                summaryTitle = "æœ‰åŸºæœ¬é˜²è­·ï¼Œä½†é‚„å¯ä»¥æ›´å¥½";
                summaryDesc = "ä½ å·²ç¶“æ³¨æ„åˆ°ä¸€äº›å®‰å…¨é‡é»ï¼Œå¯ä»¥å†æª¢æŸ¥ç’°å¢ƒæ¨™ç¤ºã€å¤œé–“ç…§æ˜èˆ‡å€‹äººé˜²è­·è£å‚™æ˜¯å¦é½Šå…¨ã€‚";
                summaryColor = "bg-amber-50 text-amber-800 border-amber-200";
            } else if (checkedCount >= (totalItems * 2) / 3) {
                summaryTitle = "ç›¸å°å®‰å…¨ï¼Œä½†è¦æŒçºŒè¿½è¹¤";
                summaryDesc = "ä½ çš„è¾²å ´åœ¨å¤šæ•¸é¢å‘éƒ½æœ‰åŸºç¤é˜²è­·ï¼Œå»ºè­°æ¯å­£é‡æ–°æª¢æŸ¥ä¸€æ¬¡ï¼Œä¸¦ç‚ºå®¶äººæˆ–å“¡å·¥åšç°¡å–®å®‰å…¨èªªæ˜ã€‚";
                summaryColor = "bg-emerald-50 text-emerald-800 border-emerald-200";
            }

            const toggle = (id) => setChecked(prev => ({...prev, [id]: !prev[id]}));

            return (
                <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                    <SectionHeader
                        icon={ClipboardCheck}
                        title="è¾²å ´é«”æª¢ (Audit)"
                        subtitle="æºè‡ªæ¾³æ´² AgHealth çš„ç³»çµ±æ€§æª¢æŸ¥ï¼Œæ¯å¤© 3 åˆ†é˜ï¼Œå®‰å…¨å‡ç´šã€‚"
                    />

                    {/* ç¸½çµå€å¡Š */}
                    <div className="mb-8">
                        <div className={`rounded-2xl p-5 border ${summaryColor}`}>
                            <div className="flex items-center justify-between mb-3">
                                <div className="font-bold text-sm">
                                    é«”æª¢é€²åº¦ï¼š{checkedCount} / {totalItems} é …
                                </div>
                                <div className="text-xs text-slate-500">
                                    å»ºè­°æ¯å­£é‡æ–°æª¢æŸ¥ä¸€æ¬¡
                                </div>
                            </div>
                            <div className="w-full bg-white/60 h-2 rounded-full overflow-hidden mb-3">
                                <div
                                    style={{ width: `${progress}%` }}
                                    className={`h-2 rounded-full transition-all duration-300 ${progress < 33 ? 'bg-rose-400' : progress < 66 ? 'bg-amber-400' : 'bg-emerald-500'}`}
                                ></div>
                            </div>
                            <div className="font-bold mb-1 text-sm">{summaryTitle}</div>
                            <div className="text-xs leading-relaxed">{summaryDesc}</div>
                        </div>
                    </div>

                    <div className="space-y-6">
                        {auditCategories.map(cat => {
                            const themeClasses = cat.theme === 'blue'
                                ? { headerBg: 'bg-sky-50', headerBorder: 'border-sky-100', icon: 'text-sky-700' }
                                : cat.theme === 'purple'
                                ? { headerBg: 'bg-violet-50', headerBorder: 'border-violet-100', icon: 'text-violet-700' }
                                : { headerBg: 'bg-amber-50', headerBorder: 'border-amber-100', icon: 'text-amber-700' };

                            return (
                                <div key={cat.id} className="bg-white rounded-2xl shadow-md overflow-hidden border border-slate-100">
                                    <div className={`${themeClasses.headerBg} p-4 flex items-center gap-3 border-b ${themeClasses.headerBorder}`}>
                                        <div className={`${themeClasses.icon}`}>{cat.icon}</div>
                                        <h3 className="font-bold text-xl text-slate-800">{cat.title}</h3>
                                    </div>
                                    <div className="p-6 space-y-3">
                                        {cat.items.map((item, idx) => {
                                            const key = `${cat.id}-${idx}`;
                                            const isChecked = !!checked[key];
                                            return (
                                                <div
                                                    key={idx}
                                                    onClick={() => toggle(key)}
                                                    className={`p-4 rounded-xl border-2 cursor-pointer flex items-center gap-3 transition-colors ${
                                                        isChecked
                                                            ? 'border-emerald-500 bg-emerald-50'
                                                            : 'border-slate-200 hover:border-emerald-400 hover:bg-emerald-50/40'
                                                    }`}
                                                >
                                                    <div
                                                        className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${
                                                            isChecked
                                                                ? 'bg-emerald-500 border-emerald-500 text-white'
                                                                : 'border-slate-300 bg-white'
                                                        }`}
                                                    >
                                                        {isChecked && <CheckCircle2 size={16}/>}
                                                    </div>
                                                    <span className="font-bold text-slate-700 text-sm">{item}</span>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );
        };

        const StartFarmingPage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader 
                    icon={Sprout} 
                    title="å¾äº‹è¾²æ¥­ï¼šçœŸå¯¦é¢æ­éœ²" 
                    subtitle="å‰è¼©çš„çœŸå¿ƒè©±ã€‚çœ‹æ¸…é¢¨éšªï¼Œæ‰èƒ½èµ°å¾—é•·é ã€‚"
                />
                <div className="space-y-6 mb-12">
                    <div className="bg-white p-8 rounded-2xl shadow-sm border-l-8 border-amber-400">
                        <div className="flex items-center gap-2 mb-3">
                            <div className="flex text-amber-400">
                                <span className="text-xl">â˜…â˜…</span>
                                <span className="text-slate-200 text-xl">â˜…â˜…â˜…</span>
                            </div>
                            <span className="font-bold text-slate-800 text-lg">æ”¶å…¥çœŸçš„ä¸ç©©å®š</span>
                        </div>
                        <p className="text-slate-600 italic text-lg leading-relaxed">
                            "å¤§å®¶éƒ½èªªé’è¾²è¿”é„‰å¾ˆæ£’ï¼Œä½†å‰ä¸‰å¹´çœŸçš„è¦æœ‰ã€åƒè€æœ¬ã€çš„å¿ƒç†æº–å‚™ã€‚å»ºè­°æ–°æ‰‹ä¸€å®šè¦æº–å‚™å¥½é å‚™é‡‘ï¼Œæˆ–è€…å…ˆå¾å…¼æ¥­ï¼ˆæ–œæ§“ï¼‰é–‹å§‹ï¼Œä¸è¦ä¸€æ¬¡å…¨å£“èº«å®¶ã€‚"
                        </p>
                        <p className="text-right text-sm text-slate-400 mt-4 font-bold">- å˜‰ç¾©é’è¾²çš„å¿ƒè²</p>
                    </div>
                    <div className="bg-white p-8 rounded-2xl shadow-sm border-l-8 border-rose-400">
                        <div className="flex items-center gap-2 mb-3">
                            <div className="flex text-amber-400">
                                <span className="text-xl">â˜…</span>
                                <span className="text-slate-200 text-xl">â˜…â˜…â˜…â˜…</span>
                            </div>
                            <span className="font-bold text-slate-800 text-lg">èº«é«”å£å¾—æ¯”æƒ³åƒå¿«</span>
                        </div>
                        <p className="text-slate-600 italic text-lg leading-relaxed">
                            "æˆ‘ä»¥ç‚ºæˆ‘å¹´è¼•åŠ›å£¯ï¼Œæ¬é³³æ¢¨éƒ½è‡ªå·±ä¾†ã€‚çµæœäº”å¹´è…°å°±å£äº†ã€‚ä¸è¦ä»¥ç‚ºå¹´è¼•å°±æ˜¯æœ¬éŒ¢ï¼Œè­·å…·å’Œå§¿å‹¢æœ€é‡è¦ï¼Œä¸ç„¶è³ºçš„éŒ¢éƒ½æ‹¿å»çœ‹é†«ç”Ÿã€‚"
                        </p>
                        <p className="text-right text-sm text-slate-400 mt-4 font-bold">- é³³æ¢¨è¾² å³å…ˆç”Ÿ</p>
                    </div>
                </div>
                <div className="bg-emerald-50 p-8 rounded-3xl">
                    <h3 className="text-2xl font-bold mb-6 text-center text-emerald-900">å®˜æ–¹è³‡æºå°èˆª</h3>
                    <div className="grid md:grid-cols-2 gap-4">
                        <a href="https://www.moa.gov.tw/" target="_blank" rel="noreferrer" className="bg-white p-6 rounded-xl hover:shadow-lg transition-all flex items-center gap-4 group">
                            <div className="bg-emerald-100 p-3 rounded-full text-emerald-600 group-hover:bg-emerald-600 group-hover:text-white transition-colors">
                                <Users/>
                            </div>
                            <div>
                                <div className="font-bold text-emerald-900 text-lg">ç™¾å¤§é’è¾²è¨ˆç•«</div>
                                <div className="text-sm text-slate-500">æ‰¾é™ªä¼´å¸«æ•™æŠ€è¡“èˆ‡è¡ŒéŠ·</div>
                            </div>
                        </a>
                        <a href="https://www.boaf.gov.tw/" target="_blank" rel="noreferrer" className="bg-white p-6 rounded-xl hover:shadow-lg transition-all flex items-center gap-4 group">
                            <div className="bg-emerald-100 p-3 rounded-full text-emerald-600 group-hover:bg-emerald-600 group-hover:text-white transition-colors">
                                <DollarSign/>
                            </div>
                            <div>
                                <div className="font-bold text-emerald-900 text-lg">é’å¹´å¾è¾²è²¸æ¬¾</div>
                                <div className="text-sm text-slate-500">å‰5å¹´å…æ¯ï¼Œæ¸›è¼•å£“åŠ›</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        );

        const GreenhousePage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader 
                    icon={Tractor} 
                    title="æº«å®¤èˆ‡çœå·¥æ©Ÿå…·" 
                    subtitle="è®“ç§‘æŠ€å¹«ä½ æµæ±—ï¼Œé é˜²è·æ¥­å‚·å®³ã€‚"
                />
                <div className="grid md:grid-cols-2 gap-8 mb-12">
                    <div className="bg-white p-6 rounded-2xl shadow-md border border-slate-100">
                        <h3 className="text-xl font-bold mb-4 text-emerald-800 flex items-center gap-2">
                            <Sun/> æº«å®¤ç†±å±å®³å°ç­–
                        </h3>
                        <ul className="space-y-4 text-slate-600 text-sm">
                            <li className="flex gap-3 items-start">
                                <span className="text-amber-500 font-bold">1.</span>
                                <span><b>è£é¢¨æ‰‡ï¼š</b>ä¸€å®šè¦è£åœ¨ã€Œäººç«™çš„é«˜åº¦ã€ï¼Œé¢¨æ‰å¹å¾—åˆ°äººè€Œä¸åªæ˜¯å¹åˆ°ä½œç‰©ã€‚</span>
                            </li>
                            <li className="flex gap-3 items-start">
                                <span className="text-amber-500 font-bold">2.</span>
                                <span><b>èº²å¤ªé™½ï¼š</b>å–„ç”¨é»‘ç¶²é®é™½ï¼Œç‰¹åˆ¥æ˜¯å·¥ä½œè·¯å¾‘èˆ‡ä¼‘æ¯é»ã€‚</span>
                            </li>
                            <li className="flex gap-3 items-start">
                                <span className="text-amber-500 font-bold">3.</span>
                                <span><b>å¼·åˆ¶è£œæ°´ï¼š</b>è¨­é¬§é˜æˆ–å»£æ’­æé†’ï¼Œæ¯20åˆ†é˜è‡³å°‘å–ä¸€å°æ¯æ°´ã€‚</span>
                            </li>
                        </ul>
                    </div>
                    <div className="bg-white p-6 rounded-2xl shadow-md border border-slate-100">
                        <h3 className="text-xl font-bold mb-4 text-emerald-800 flex items-center gap-2">
                            <Tractor/> çœå·¥æ©Ÿå…·æ¨è–¦
                        </h3>
                        <ul className="space-y-4 text-slate-600 text-sm">
                            <li className="flex gap-3 items-start">
                                <span className="text-emerald-500 font-bold">1.</span>
                                <span><b>ç„¡äººæ©Ÿå™´è—¥ï¼š</b>é é›¢ä¸­æ¯’é¢¨éšªï¼Œä¹Ÿæ¸›å°‘é•·æ™‚é–“æ¹æ©Ÿå™¨çš„è² æ“”ã€‚</span>
                            </li>
                            <li className="flex gap-3 items-start">
                                <span className="text-emerald-500 font-bold">2.</span>
                                <span><b>æ¡æ”¶æ¬é‹æ©Ÿï¼š</b>æ•‘æ•‘ä½ çš„è…°ï¼Œè®“é‡ç‰©ã€Œåè»Šã€è€Œä¸æ˜¯ã€Œé è‚©ã€ã€‚</span>
                            </li>
                            <li className="flex gap-3 items-start">
                                <span className="text-emerald-500 font-bold">3.</span>
                                <span><b>åé§•å¼å‰²è‰æ©Ÿï¼š</b>æ¸›å°‘é«”åŠ›æ¶ˆè€—ï¼Œä¹Ÿé™ä½è¢«é£›çŸ³æ‰“å‚·çš„é¢¨éšªã€‚</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        );

        const HealthPromoPage = () => {
            const [selectedPart, setSelectedPart] = useState('back');
            const currentEx = bodyMapData[selectedPart];

            return (
                <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                    <SectionHeader 
                        icon={Activity} 
                        title="å¥åº·ä¿ƒé€²èˆ‡ä¼¸å±•" 
                        subtitle="æ¯å¤© 3 åˆ†é˜ï¼Œé é˜²è·æ¥­å‚·å®³ã€‚"
                    />
                    <div className="bg-white rounded-3xl shadow-xl border border-slate-100 p-8 mb-12 grid md:grid-cols-2 gap-8">
                        <div className="relative h-80 bg-slate-100 rounded-2xl flex items-center justify-center bg-[url('https://www.transparenttextures.com/patterns/graphy.png')]">
                            <button
                                onClick={() => setSelectedPart('neck')}
                                className={`body-btn absolute top-4 w-20 h-20 rounded-full bg-white border-2 border-slate-200 flex items-center justify-center text-xs text-slate-600 ${
                                    selectedPart === 'neck' ? 'active' : ''
                                }`}
                            >
                                <span className="font-bold">é ¸éƒ¨</span>
                            </button>
                            <button
                                onClick={() => setSelectedPart('shoulder')}
                                className={`body-btn absolute top-28 left-4 w-20 h-20 rounded-full bg-white border-2 border-slate-200 flex items-center justify-center text-xs text-slate-600 ${
                                    selectedPart === 'shoulder' ? 'active' : ''
                                }`}
                            >
                                <span className="font-bold">è‚©è†€</span>
                            </button>
                            <button
                                onClick={() => setSelectedPart('back')}
                                className={`body-btn absolute top-28 right-4 w-20 h-20 rounded-full bg-white border-2 border-slate-200 flex items-center justify-center text-xs text-slate-600 ${
                                    selectedPart === 'back' ? 'active' : ''
                                }`}
                            >
                                <span className="font-bold">ä¸‹èƒŒ</span>
                            </button>
                            <button
                                onClick={() => setSelectedPart('knee')}
                                className={`body-btn absolute bottom-4 w-20 h-20 rounded-full bg-white border-2 border-slate-200 flex items-center justify-center text-xs text-slate-600 ${
                                    selectedPart === 'knee' ? 'active' : ''
                                }`}
                            >
                                <span className="font-bold">è†è“‹</span>
                            </button>
                        </div>
                        <div className="flex flex-col justify-center">
                            <h3 className="text-2xl font-bold text-emerald-800 mb-2">{currentEx.title}</h3>
                            <p className="text-slate-500 mb-6">{currentEx.desc}</p>
                            <div className="bg-emerald-50 rounded-xl p-6">
                                <ul className="space-y-3">
                                    {currentEx.steps.map((step, i) => (
                                        <li key={i} className="flex items-start gap-3">
                                            <span className="w-6 h-6 rounded-full bg-emerald-200 text-emerald-800 flex items-center justify-center font-bold text-xs flex-shrink-0">
                                                {i+1}
                                            </span>
                                            <span className="text-slate-700">{step}</span>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div className="grid md:grid-cols-3 gap-6 mb-12">
                        {exerciseData.map((ex, i) => (
                            <div key={i} className="bg-white p-6 rounded-2xl shadow-md border-t-4 border-emerald-500">
                                <h3 className="text-xl font-bold mb-2 text-slate-800">{ex.title}</h3>
                                <Badge color="green">é©åˆï¼š{ex.target}</Badge>
                                <ol className="list-decimal list-inside space-y-2 text-slate-600 mt-4 bg-slate-50 p-4 rounded-xl">
                                    {ex.steps.map((s, j) => (
                                        <li key={j}>{s}</li>
                                    ))}
                                </ol>
                            </div>
                        ))}
                    </div>
                    <div className="bg-amber-50 p-8 rounded-3xl text-center">
                        <h3 className="text-2xl font-bold text-amber-900 mb-4">è³‡æ·±è¾²å‹å°ˆå€</h3>
                        <p className="text-amber-800 mb-6 max-w-2xl mx-auto">
                            å¦‚æœç—›å¤ªä¹…ï¼Œè«‹ä¸è¦åªè²¼è—¥å¸ƒï¼Œå»ºè­°è‡³<b>ã€Œè·æ¥­é†«å­¸ç§‘ã€</b>å°±è¨ºã€‚
                        </p>
                        <button
                            className="bg-white text-slate-700 border border-slate-200 hover:bg-slate-50 shadow-sm px-6 py-3 rounded-xl font-bold"
                            onClick={() => window.open('https://www.ntuh.gov.tw/EOM-CMOID/Fpage.action?muid=4091&fid=3918', '_blank')}
                        >
                            å°‹æ‰¾å°å¤§é›²æ—åˆ†é™¢è·æ¥­é†«å­¸ç§‘
                        </button>
                    </div>
                </div>
            );
        };

        const EconomicsPage = () => {
            const injuryFlowSteps = [
                {
                    title: "1. å…ˆå°±é†«ï¼Œä¿ç•™æ‰€æœ‰å–®æ“š",
                    desc: "ä¸ç®¡æ˜¯ä¸æ˜¯å¤§å‚·ï¼Œä¸€å¾‹å…ˆçœ‹é†«ç”Ÿã€‚æ›è™Ÿå–®ã€è¨ºæ–·æ›¸ã€æ”¶æ“šéƒ½å…ˆç•™å¥½ï¼Œä¹‹å¾Œç”³è«‹ä¿éšªæˆ–è£œåŠ©éƒ½æœƒç”¨åˆ°ã€‚"
                },
                {
                    title: "2. ä¸€å®šè¦è·Ÿé†«å¸«èªªã€Œæ˜¯åœ¨å·¥ä½œæ™‚å—å‚·ã€",
                    desc: "æ¸…æ¥šèªªæ˜ï¼šåœ¨å“ªè£¡ã€åšä»€éº¼å·¥ä½œã€ä»€éº¼æ™‚é–“é»å—å‚·ï¼Œè«‹é†«å¸«åœ¨ç—…æ­·ä¸Šç´€éŒ„ï¼Œæœªä¾†ç”³è«‹è·ç½çµ¦ä»˜æ™‚æ¯”è¼ƒä¸æœƒè¢«èªå®šç‚ºä¸€èˆ¬æ„å¤–ã€‚"
                },
                {
                    title: "3. è¯ç¹«è¾²æœƒ / é›‡ä¸» / å…¬æ‰€å”åŠ©ç”³è«‹",
                    desc: "åŒ…å«è¾²æ°‘è·ç½ä¿éšªã€å‹ä¿è·ç½æˆ–å…¶ä»–è£œåŠ©ï¼Œé€šå¸¸éƒ½æœ‰æ–‡ä»¶æµç¨‹ã€‚è®“ç†Ÿæ‚‰åˆ¶åº¦çš„å–®ä½å¹«å¿™ï¼Œå¯ä»¥å°‘èµ°å¾ˆå¤šå†¤æ‰è·¯ã€‚"
                },
                {
                    title: "4. å¾ŒçºŒå¾©å¥èˆ‡è¿½è¹¤",
                    desc: "å¦‚æœä»ç„¶ç–¼ç—›æˆ–å½±éŸ¿å·¥ä½œèƒ½åŠ›ï¼Œä¸€å®šè¦å›è¨ºè¿½è¹¤ï¼Œå¿…è¦æ™‚å¯è½‰ä»‹ã€Œè·æ¥­é†«å­¸ç§‘ã€ï¼Œè©•ä¼°æ˜¯å¦éœ€è¦èª¿æ•´å·¥ä½œå‹æ…‹æˆ–é€²ä¸€æ­¥ç”³è«‹ç›¸é—œçµ¦ä»˜ã€‚"
                }
            ];

            return (
                <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                    <SectionHeader 
                        icon={DollarSign} 
                        title="ä¿éšªèˆ‡ç¶“æ¿Ÿå®‰å…¨" 
                        subtitle="ææ‡‚æ¬Šç›Šï¼Œå¢åŠ ä½ çš„è²¡å‹™éŸŒæ€§ã€‚"
                    />
                    <div className="bg-white p-8 rounded-3xl shadow-sm border border-slate-100 mb-12">
                        <h3 className="text-2xl font-bold mb-8 text-center text-slate-800">
                            ä¿éšªæ±ºç­–æ¨¹ï¼šæˆ‘è©²ä¿ä»€éº¼ï¼Ÿ
                        </h3>
                        <div className="grid md:grid-cols-2 gap-8">
                            <div className="bg-emerald-50/40 rounded-2xl p-6 border border-emerald-100">
                                <h4 className="text-xl font-bold text-emerald-800 mb-4 flex items-center gap-2">
                                    <Users size={24}/> æ“”å¿ƒã€Œäººã€å—å‚·
                                </h4>
                                <ul className="space-y-4">
                                    <li className="bg-white p-4 rounded-xl shadow-sm">
                                        <span className="font-bold block text-slate-800 mb-1">
                                            1. è¾²æ°‘å¥åº·ä¿éšª (åŸºæœ¬)
                                        </span>
                                        <span className="text-sm text-slate-500">
                                            æä¾›ç”Ÿè‚²ã€èº«å¿ƒéšœç¤™ã€å–ªè‘¬æ´¥è²¼ç­‰åŸºæœ¬ä¿éšœã€‚
                                        </span>
                                    </li>
                                    <li className="bg-emerald-600 text-white p-4 rounded-xl shadow-lg transform scale-105 ring-4 ring-emerald-100">
                                        <span className="font-bold block flex items-center justify-between mb-1">
                                            2. è¾²æ°‘è·ç½ä¿éšª (å¿…ä¿!) <Heart size={16} className="fill-current"/>
                                        </span>
                                        <span className="text-sm opacity-90">
                                            æ¯æœˆç´„ä¸€æ¯é£²æ–™éŒ¢ï¼Œå»å¤šäº†è·ç½é†«ç™‚èˆ‡è£œå„Ÿã€‚ç™¼ç”Ÿä¸­æš‘ã€è·Œå€’ã€è¾²æ©Ÿå‚·å®³æ™‚ï¼Œå¯ä»¥å¤§å¹…æ¸›è¼•ç¶“æ¿Ÿå£“åŠ›ã€‚
                                        </span>
                                    </li>
                                </ul>
                            </div>
                            <div className="bg-emerald-50/10 rounded-2xl p-6 border border-emerald-100/60">
                                <h4 className="text-xl font-bold text-emerald-800 mb-4 flex items-center gap-2">
                                    <Sprout size={24}/> æ“”å¿ƒã€Œä½œç‰©ã€æ²’æ”¶æˆ
                                </h4>
                                <ul className="space-y-4">
                                    <li className="bg-white p-4 rounded-xl shadow-sm">
                                        <span className="font-bold block text-slate-800 mb-1">
                                            1. å¤©ç„¶ç½å®³æ•‘åŠ©
                                        </span>
                                        <span className="text-sm text-slate-500">
                                            é¢±é¢¨ã€è±ªé›¨ã€å¯’å®³ç­‰é”åˆ°ä¸€å®šæå®³æ¯”ä¾‹æ™‚ï¼Œå¯ç”³è«‹æ”¿åºœæ•‘åŠ©ï¼Œä¸»è¦æ˜¯è£œè²¼ç”Ÿç”¢æˆæœ¬ã€‚
                                        </span>
                                    </li>
                                    <li className="bg-emerald-50 p-4 rounded-xl shadow-sm border border-emerald-200">
                                        <span className="font-bold block text-emerald-900 mb-1">
                                            2. ä½œç‰©æ”¶å…¥ä¿éšª
                                        </span>
                                        <span className="text-sm text-emerald-800">
                                            ä¸æ˜¯åªçœ‹ã€Œæå¤±å¤šå°‘å…¬æ–¤ã€ï¼Œè€Œæ˜¯ä¿éšœã€Œæ•´é«”æ”¶å…¥ã€ã€‚è‹¥å¯¦éš›æ”¶å…¥ä½æ–¼åŸºæº–ï¼Œå°±å¯ä»¥å•Ÿå‹•ç†è³ ã€‚<br/>
                                            <span className="text-xs bg-white px-2 py-1 rounded mt-2 inline-block border shadow-sm font-bold">
                                                é—œéµå­—ï¼šå¥§æ—åŒ¹å…‹å¹³å‡æ³•ï¼ˆæ’é™¤æ¥µç«¯é«˜ä½åƒ¹ï¼Œè¨ˆç®—è¼ƒå…¬å¹³ï¼‰
                                            </span>
                                        </span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div className="bg-slate-50 p-8 rounded-3xl border border-slate-200">
                        <h3 className="text-2xl font-bold mb-6 text-slate-800">
                            è·ç½å°±é†«èˆ‡ç”³è«‹æµç¨‹ (æ‡¶äººç‰ˆ)
                        </h3>
                        <ol className="space-y-4">
                            {injuryFlowSteps.map((step, idx) => (
                                <li
                                    key={idx}
                                    className="bg-white rounded-2xl p-4 shadow-sm border border-slate-100 flex gap-3"
                                >
                                    <div className="w-8 h-8 rounded-full bg-emerald-500 text-white flex items-center justify-center font-bold flex-shrink-0">
                                        {idx + 1}
                                    </div>
                                    <div>
                                        <div className="font-bold text-slate-800 mb-1">{step.title}</div>
                                        <div className="text-sm text-slate-600 leading-relaxed">{step.desc}</div>
                                    </div>
                                </li>
                            ))}
                        </ol>
                    </div>
                </div>
            );
        };

        const ForumPage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader icon={MessageCircle} title="è¾²æ°‘äº¤æµåœ’åœ°" subtitle="äº’åŠ©åˆä½œï¼Œåšå½¼æ­¤çš„å¾Œç›¾ã€‚" />
                <div className="mb-12">
                    <h3 className="font-bold text-xl mb-4 text-slate-700">å¸¸è¦‹è¿·æ€ QA</h3>
                    {qaData.map((item, i) => (
                        <Accordion key={i} category={item.category} question={item.q} answer={item.a} />
                    ))}
                </div>
                <div className="bg-white rounded-3xl border border-slate-100 shadow-md overflow-hidden">
                    <div className="p-6 bg-slate-50 border-b border-slate-100">
                        <h3 className="font-bold text-slate-700">æœ€æ–°è¨è«–æ–‡ç« </h3>
                    </div>
                    <div>
                        {forumPosts.map((post) => (
                            <div key={post.id} className="p-6 border-b border-slate-50 hover:bg-emerald-50/30 transition-colors">
                                <h4 className="font-bold text-lg text-slate-800 mb-2">{post.title}</h4>
                                <p className="text-slate-600 mb-4">{post.content}</p>
                                <div className="flex gap-4 text-sm text-slate-400">
                                    <span>{post.author}</span>
                                    <span>{post.time}</span>
                                    <span className="text-emerald-600 font-bold">{post.tag}</span>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        );

        const VideosPage = () => (
            <div className="max-w-6xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader icon={PlayCircle} title="å½±éŸ³å­¸ç¿’å°ˆå€" subtitle="ç”¨çœ‹ç”¨è½éƒ½æ–¹ä¾¿ã€‚" />
                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    {videoData.map((video) => (
                        <div 
                            key={video.id} 
                            className="bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-lg transition-shadow border border-slate-100 group"
                        >
                            <div className="aspect-video w-full bg-black relative">
                                <iframe
                                    className="absolute top-0 left-0 w-full h-full"
                                    src={`https://www.youtube.com/embed/${video.youtubeId}`}
                                    title={video.title}
                                    frameBorder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                    allowFullScreen
                                ></iframe>
                            </div>
                            <div className="p-6">
                                <div className="flex justify-between items-start mb-2">
                                    <h3 className="font-bold text-lg text-slate-800 line-clamp-2">{video.title}</h3>
                                    <Badge color="green">{video.type}</Badge>
                                </div>
                                <p className="text-sm text-slate-500 mb-4 line-clamp-2">{video.desc}</p>
                                <div className="text-xs text-slate-400 flex justify-between border-t border-slate-50 pt-3">
                                    <span>{video.date}</span>
                                    <span>{video.views} æ¬¡è§€çœ‹</span>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        );

        const ResourcesPage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader icon={Download} title="è³‡æºä¸‹è¼‰" subtitle="å¸¶å¾—èµ°çš„å·¥å…·åŒ…ã€‚" />
                <div className="grid gap-4">
                    {[
                        {name: "ç”°é–“è­·èº«æ“æµ·å ±", size: "PDF"},
                        {name: "è¾²è—¥é˜²è­· SOP å°å¡", size: "PDF"},
                        {name: "è¨˜å¸³ Excel è¡¨", size: "XLS"}
                    ].map((item, i) => (
                        <div
                            key={i}
                            className="bg-white p-6 rounded-2xl shadow-sm flex justify-between items-center border border-slate-100 hover:border-emerald-500 transition-colors cursor-pointer group"
                        >
                            <div className="flex items-center gap-4">
                                <div className="bg-slate-100 p-3 rounded-lg text-slate-500 group-hover:bg-emerald-100 group-hover:text-emerald-600">
                                    <BookOpen size={24}/>
                                </div>
                                <span className="font-bold text-lg text-slate-700">{item.name}</span>
                            </div>
                            <span className="text-sm font-bold text-slate-400 bg-slate-50 px-3 py-1 rounded-full">
                                {item.size}
                            </span>
                        </div>
                    ))}
                </div>
            </div>
        );

        // --- 6. è§’è‰²å°ˆå€é é¢ ---

        const NewFarmerHubPage = ({ setPage }) => (
            <div className="max-w-5xl mx-auto px-4 py-12 animate-fade-in">
                {/* Hero */}
                <div className="bg-gradient-to-r from-emerald-50 via-emerald-100 to-emerald-50 rounded-3xl p-6 md:p-8 mb-8 flex flex-col md:flex-row items-center gap-6 border border-emerald-100">
                    <div className="flex-1">
                        <h1 className="text-2xl md:text-3xl font-extrabold text-slate-800 mb-2 flex items-center gap-3">
                            <span className="inline-flex p-2 rounded-2xl bg-emerald-600 text-white">
                                <Sprout size={24}/>
                            </span>
                            æ–°æ‰‹å‹™è¾²å°ˆå€
                        </h1>
                        <p className="text-slate-600 text-sm md:text-base leading-relaxed">
                            å¦‚æœä½ æ­£åœ¨è€ƒæ…®è¿”é„‰å‹™è¾²æˆ–å‰›é–‹å§‹ç¨®æ¤ï¼Œé€™è£¡å¹«ä½ æ•´ç†ã€Œç¾å¯¦é¢ã€ã€ã€Œèº«é«”é¢¨éšªã€ã€ã€ŒéŒ¢æ€éº¼ç®—ã€ï¼Œ
                            è®“ä½ ç”¨æ¯”è¼ƒä¸å¾Œæ‚”çš„æ–¹å¼é–‹å§‹ã€‚
                        </p>
                        <button
                            onClick={() => setPage('home')}
                            className="mt-4 text-xs font-bold text-emerald-700 hover:text-emerald-900 underline underline-offset-4"
                        >
                            â† å›é¦–é çœ‹çœ‹å…¶ä»–è³‡è¨Š
                        </button>
                    </div>
                    <div className="w-32 h-32 md:w-40 md:h-40 bg-white/70 rounded-2xl shadow-sm flex items-center justify-center border border-emerald-100">
                        <img src="https://images.pexels.com/photos/1268101/pexels-photo-1268101.jpeg?auto=compress&cs=tinysrgb&w=400" alt="new farmer" className="w-full h-full object-cover rounded-2xl"/>
                    </div>
                </div>

                <SectionHeader
                    icon={Sprout}
                    title="å…ˆçœ‹æ¸…ï¼Œå†è¸é€²ä¾†"
                    subtitle="æ”¶å…¥ã€èº«é«”ã€é¢¨éšªä¸‰ä»¶äº‹å¼„æ‡‚ï¼Œä½ å°±æ¯”å¾ˆå¤šäººæº–å‚™å¾—æ›´å¥½ã€‚"
                />

                {/* å¼•ç”¨ StartFarmingPage çš„å…§å®¹ */}
                <StartFarmingPage />
            </div>
        );

        const YoungFarmerHubPage = ({ setPage }) => (
            <div className="max-w-5xl mx-auto px-4 py-12 animate-fade-in">
                {/* Hero */}
                <div className="bg-gradient-to-r from-emerald-50 via-teal-50 to-sky-50 rounded-3xl p-6 md:p-8 mb-8 flex flex-col md:flex-row items-center gap-6 border border-teal-100">
                    <div className="flex-1">
                        <h1 className="text-2xl md:text-3xl font-extrabold text-slate-800 mb-2 flex items-center gap-3">
                            <span className="inline-flex p-2 rounded-2xl bg-teal-600 text-white">
                                <Tractor size={24}/>
                            </span>
                            é’è¾² / åœ¨è·å°ˆå€
                        </h1>
                        <p className="text-slate-600 text-sm md:text-base leading-relaxed">
                            å·²ç¶“åœ¨ç”°è£¡æ‰“æ‹šçš„ä½ ï¼Œæœ€éœ€è¦çš„æ˜¯ï¼šå°‘ä¸€é»ç™½å¿™çš„é«”åŠ›ï¼Œå¤šä¸€é»å¯ä»¥é•·ä¹…åšä¸‹å»çš„å®‰å…¨ã€‚
                            é€™è£¡å¹«ä½ æ•´ç†ã€Œæº«å®¤èˆ‡æ©Ÿå…·ã€ã€ã€Œè¾²å ´é«”æª¢ã€ã€ã€Œæ€¥æ•‘èˆ‡åœ–å¡ã€ä¸‰å€‹æ–¹å‘ï¼Œè®“ä½ æœ‰åœ°æ–¹å¯ä»¥å…ˆä¸‹æ‰‹ã€‚
                        </p>
                        <button
                            onClick={() => setPage('home')}
                            className="mt-4 text-xs font-bold text-emerald-700 hover:text-emerald-900 underline underline-offset-4"
                        >
                            â† å›é¦–é çœ‹çœ‹å…¶ä»–è³‡è¨Š
                        </button>
                    </div>
                    <div className="w-32 h-32 md:w-40 md:h-40 bg-white/70 rounded-2xl shadow-sm flex items-center justify-center border border-teal-100">
                        <img src="https://images.pexels.com/photos/1268102/pexels-photo-1268102.jpeg?auto=compress&cs=tinysrgb&w=400" alt="young farmer" className="w-full h-full object-cover rounded-2xl"/>
                    </div>
                </div>

                <div className="bg-white rounded-3xl p-8 shadow-sm border border-slate-100 mb-10">
                    <h3 className="text-2xl font-bold text-slate-800 mb-6 text-center">
                        ä»Šå¤©ä½ æœ€æƒ³æ”¹å–„çš„æ˜¯å“ªä¸€å¡Šï¼Ÿ
                    </h3>
                    <div className="grid md:grid-cols-3 gap-6">
                        <button
                            onClick={() => setPage('greenhouse')}
                            className="text-left bg-slate-50 rounded-2xl p-5 border border-slate-100 hover:border-emerald-500 hover:bg-emerald-50/60 transition-all"
                        >
                            <div className="flex items-center gap-3 mb-3">
                                <div className="bg-emerald-100 text-emerald-700 p-2 rounded-full">
                                    <Sun size={20}/>
                                </div>
                                <span className="font-bold text-slate-800 text-sm">æº«å®¤å¤ªç†± / å·¥ä½œå¤ªæ“</span>
                            </div>
                            <p className="text-xs text-slate-600 leading-relaxed">
                                æƒ³çœ‹æ€éº¼æ”¹é€šé¢¨ã€æ’ä¼‘æ¯ã€èª¿æ•´å·¥ä½œç¯€å¥ï¼Œé¿å…ä¸­æš‘å’Œæ…¢æ€§ç–²å‹ï¼Œå°±åˆ°ã€Œæº«å®¤èˆ‡çœå·¥æ©Ÿå…·ã€ã€‚
                            </p>
                        </button>

                        <button
                            onClick={() => setPage('audit')}
                            className="text-left bg-slate-50 rounded-2xl p-5 border border-slate-100 hover:border-emerald-500 hover:bg-emerald-50/60 transition-all"
                        >
                            <div className="flex items-center gap-3 mb-3">
                                <div className="bg-emerald-100 text-emerald-700 p-2 rounded-full">
                                    <ClipboardCheck size={20}/>
                                </div>
                                <span className="font-bold text-slate-800 text-sm">æƒ³æª¢æŸ¥çœ‹çœ‹è¾²å ´å®‰å…¨</span>
                            </div>
                            <p className="text-xs text-slate-600 leading-relaxed">
                                æƒ³ç”¨æ¸…å–®å¿«é€Ÿæª¢æŸ¥è¾²æ©Ÿã€åŒ–å­¸å“ã€ç’°å¢ƒæœ‰æ²’æœ‰æ¼æ´ï¼Œå°±åˆ°ã€Œè¾²å ´é«”æª¢ã€é é¢ï¼Œé‡åŒ–çœ‹è‡ªå·±åšåˆ°å“ªè£¡ã€‚
                            </p>
                        </button>

                        <button
                            onClick={() => setPage('safety')}
                            className="text-left bg-slate-50 rounded-2xl p-5 border border-slate-100 hover:border-emerald-500 hover:bg-emerald-50/60 transition-all"
                        >
                            <div className="flex items-center gap-3 mb-3">
                                <div className="bg-emerald-100 text-emerald-700 p-2 rounded-full">
                                    <Shield size={20}/>
                                </div>
                                <span className="font-bold text-slate-800 text-sm">æƒ³æ›´æ‡‚æ€¥æ•‘èˆ‡é˜²è­·</span>
                            </div>
                            <p className="text-xs text-slate-600 leading-relaxed">
                                ç†±ä¸­æš‘ã€è¾²è—¥ä¸­æ¯’ã€è·Œå€’å‰²å‚·ï¼Œä¸€å¼µç´…å¡å°±çŸ¥é“æ€éº¼åšã€è¦æ‰“çµ¦èª°ï¼Œå°±åˆ°ã€Œæ€¥æ•‘èˆ‡åœ–å¡ã€ã€‚
                            </p>
                        </button>
                    </div>
                </div>
            </div>
        );

        const SeniorFarmerHubPage = ({ setPage }) => (
            <div className="max-w-5xl mx-auto px-4 py-12 animate-fade-in">
                <div className="bg-gradient-to-r from-amber-50 via-amber-100 to-rose-50 rounded-3xl p-6 md:p-8 mb-8 flex flex-col md:flex-row items-center gap-6 border border-amber-100">
                    <div className="flex-1">
                        <h1 className="text-2xl md:text-3xl font-extrabold text-slate-800 mb-2 flex items-center gap-3">
                            <span className="inline-flex p-2 rounded-2xl bg-amber-500 text-white">
                                <Heart size={24}/>
                            </span>
                            è³‡æ·±è¾²å‹å°ˆå€
                        </h1>
                        <p className="text-slate-600 text-sm md:text-base leading-relaxed">
                            ç¨®äº†ä¸€è¼©å­ç”°ï¼Œèº«é«”ä¹Ÿæ˜¯ä¸€è¼©å­çš„å·¥å…·ã€‚é€™è£¡å¹«ä½ æ•´ç†ã€Œç— ç—›æ€éº¼ç…§é¡§ã€ã€ã€Œè©²æ‹¿çš„ä¿éšªèˆ‡çµ¦ä»˜ã€ï¼Œ
                            è®“ä½ å¯ä»¥å®‰å¿ƒæŠŠç¶“é©—å‚³ä¸‹å»ï¼Œè€Œä¸æ˜¯åªæŠŠå‚·ç•™åœ¨è‡ªå·±èº«ä¸Šã€‚
                        </p>
                        <button
                            onClick={() => setPage('home')}
                            className="mt-4 text-xs font-bold text-emerald-700 hover:text-emerald-900 underline underline-offset-4"
                        >
                            â† å›é¦–é çœ‹çœ‹å…¶ä»–è³‡è¨Š
                        </button>
                    </div>
                    <div className="w-32 h-32 md:w-40 md:h-40 bg-white/70 rounded-2xl shadow-sm flex items-center justify-center border border-amber-100">
                        <img src="https://images.pexels.com/photos/1268103/pexels-photo-1268103.jpeg?auto=compress&cs=tinysrgb&w=400" alt="senior farmer" className="w-full h-full object-cover rounded-2xl"/>
                    </div>
                </div>

                <SectionHeader
                    icon={Heart}
                    title="èº«é«”é¡§å¥½ï¼Œæ¬Šç›Šé¡§å¥½"
                    subtitle="è…°ã€è†ã€è‚©ã€è„–å­å’Œä½ çš„æ¬Šç›Šï¼Œéƒ½æ‡‰è©²è¢«å¥½å¥½å°å¾…ã€‚"
                />

                <div className="bg-white rounded-3xl p-8 shadow-sm border border-slate-100 mb-10 grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 className="text-xl font-bold text-slate-800 mb-3">å“ªè£¡æœ€å¸¸åœ¨å«ï¼Ÿ</h3>
                        <p className="text-sm text-slate-600 mb-4 leading-relaxed">
                            è…°ã€è†è“‹ã€è‚©è†€ã€è„–å­ï¼Œæ˜¯æœ€å¸¸è½åˆ°è³‡æ·±è¾²å‹èªªã€Œé€™è£¡ä¸å¤ªèˆ’æœã€çš„åœ°æ–¹ã€‚
                            å¾ˆå¤šæ™‚å€™ä¸æ˜¯ä¸€å¤©å…©å¤©é€ æˆï¼Œè€Œæ˜¯å¹¾åå¹´ç´¯ç©ä¸‹ä¾†çš„ã€‚
                        </p>
                        <ul className="space-y-2 text-sm text-slate-600">
                            <li>â€¢ é•·æœŸå½è…° â†’ ä¸‹èƒŒç—›ã€åéª¨ç¥ç¶“ç—›</li>
                            <li>â€¢ å¸¸å¸¸æ‰›é‡ç‰© â†’ è†è“‹ã€é«–é—œç¯€é€€åŒ–</li>
                            <li>â€¢ æ‰‹èˆ‰é«˜å™´è—¥ â†’ è‚©è†€å¡å¡ã€å¤œæ™šç—›é†’</li>
                            <li>â€¢ ä½é ­åˆ†ç´šã€ä¿®å‰ª â†’ é ¸éƒ¨åƒµç¡¬ã€é ­ç—›</li>
                        </ul>
                        <div className="mt-4">
                            <ActionButton variant="secondary" onClick={() => setPage('healthPromo')}>
                                çœ‹ã€Œå¥åº·ä¿ƒé€²èˆ‡ä¼¸å±•ã€æ€éº¼å¹«å¿™
                            </ActionButton>
                        </div>
                    </div>
                    <div className="flex items-center justify-center">
                        <div className="relative h-64 w-64 bg-emerald-50 rounded-full flex items-center justify-center">
                            <div className="w-40 h-40 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-800 font-bold">
                                èº«é«”åœ°åœ–
                            </div>
                            <span className="absolute top-2 text-xs text-slate-600">é ¸éƒ¨</span>
                            <span className="absolute left-2 text-xs text-slate-600">è‚©è†€</span>
                            <span className="absolute bottom-4 text-xs text-slate-600">è†è“‹</span>
                            <span className="absolute right-1/2 mt-10 text-xs text-slate-600">ä¸‹èƒŒ</span>
                        </div>
                    </div>
                </div>

                <div className="bg-emerald-50 rounded-3xl p-8 mb-10">
                    <h3 className="text-2xl font-bold text-emerald-900 mb-6 text-center">
                        åšäº†é€™éº¼å¤šå¹´ï¼Œè©²æ‹¿çš„ä¿éšœä¸è¦éŒ¯é
                    </h3>
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="bg-white rounded-2xl p-6 shadow-sm border border-emerald-100">
                            <h4 className="font-bold text-slate-800 mb-2 flex items-center gap-2">
                                <Shield size={18} className="text-emerald-600"/> è¾²æ°‘è·ç½ä¿éšªæª¢æŸ¥ä¸€ä¸‹
                            </h4>
                            <p className="text-sm text-slate-600 leading-relaxed mb-3">
                                å·²ç¶“å‹™è¾²å¥½å¹¾åå¹´ï¼Œå»é‚„æ²’æœ‰æŠŠã€Œè·ç½ä¿éšªã€è£œä¸Šï¼Œæ˜¯å¾ˆå¯æƒœçš„ã€‚
                                ä¸­æš‘ã€è·Œå€’ã€åˆ€å‚·ã€è¾²æ©Ÿå‚·å®³ï¼Œåªè¦æ˜¯ã€Œå·¥ä½œä¸­ç™¼ç”Ÿã€ï¼Œéƒ½æœ‰å¯èƒ½å•Ÿå‹•çµ¦ä»˜ã€‚
                            </p>
                            <button
                                onClick={() => setPage('economics')}
                                className="text-xs font-bold text-emerald-700 hover:text-emerald-800"
                            >
                                â†’ å»ã€Œä¿éšªèˆ‡ç¶“æ¿Ÿå®‰å…¨ã€çœ‹æ€éº¼é¸
                            </button>
                        </div>
                        <div className="bg-white rounded-2xl p-6 shadow-sm border border-emerald-100">
                            <h4 className="font-bold text-slate-800 mb-2 flex items-center gap-2">
                                <DollarSign size={18} className="text-emerald-600"/> ä½œç‰©æ”¶å…¥ä¿éšªå¯ä»¥è©¦è©¦çœ‹
                            </h4>
                            <p className="text-sm text-slate-600 leading-relaxed mb-3">
                                åƒ¹æ ¼å¤§èµ·å¤§è½çš„æ™‚ä»£ï¼Œé ã€Œå¹³å‡åƒ¹æ ¼ã€è¨ˆç®—çš„æ”¶å…¥ä¿éšªï¼Œåè€Œå¯ä»¥å¹«ä½ æŠŠå¤šå¹´ç¶“é©—è®Šæˆç©©å®šæ”¶å…¥ã€‚
                                ä¸ä¸€å®šæ¯å¹´è³ºæœ€å¤šï¼Œä½†å¯ä»¥å°‘è³ ä¸€é»ã€‚
                            </p>
                            <button
                                onClick={() => setPage('economics')}
                                className="text-xs font-bold text-emerald-700 hover:text-emerald-800"
                            >
                                â†’ äº†è§£ã€Œå¥§æ—åŒ¹å…‹å¹³å‡æ³•ã€æ˜¯ä»€éº¼
                            </button>
                        </div>
                    </div>
                </div>

                <div className="bg-white rounded-3xl p-8 shadow-sm border border-slate-100">
                    <h3 className="text-2xl font-bold mb-4 text-slate-800 text-center">ä»€éº¼æ™‚å€™è©²è€ƒæ…®çœ‹ã€Œè·æ¥­é†«å­¸ç§‘ã€ï¼Ÿ</h3>
                    <p className="text-sm text-slate-600 mb-6 text-center max-w-2xl mx-auto leading-relaxed">
                        å¦‚æœä½ å·²ç¶“èª¿æ•´å§¿å‹¢ã€åšä¼¸å±•ã€è²¼è—¥å¸ƒï¼Œä½†é‚„æ˜¯ç—›äº†å¥½å¹¾å€‹æœˆï¼Œ
                        æˆ–è€…ç—›åˆ°å½±éŸ¿ç¡çœ ã€èµ°è·¯ã€å·¥ä½œæ­¥èª¿ï¼Œå°±ä¸åªæ˜¯ã€Œè€æ¯›ç—…ã€ï¼Œè€Œæ˜¯å€¼å¾—æ‰¾å°ˆç§‘é†«å¸«å¥½å¥½è«‡è«‡çš„ç‹€æ³ã€‚
                    </p>
                    <div className="flex flex-wrap justify-center gap-4 mb-6">
                        <Badge color="orange">è¶…é 3 å€‹æœˆçš„æ…¢æ€§ç–¼ç—›</Badge>
                        <Badge color="orange">ç—›åˆ°å½±éŸ¿ç¡çœ æˆ–èµ°è·¯</Badge>
                        <Badge color="orange">å·¥ä½œä¸€åšå°±ç—›ï¼Œä¸€åœå°±å¥½</Badge>
                    </div>
                    <div className="text-center">
                        <ActionButton
                            variant="secondary"
                            onClick={() => setPage('healthPromo')}
                        >
                            çœ‹çœ‹ã€Œå¥åº·ä¿ƒé€²ã€é é¢ä¸‹æ–¹çš„å°±é†«å»ºè­°
                        </ActionButton>
                    </div>
                </div>
            </div>
        );

        // --- 7. ä¸»ç¨‹å¼ App ---

        function App() {
            const [page, setPage] = useState('home');
            const [menuOpen, setMenuOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);
            const [currentDate, setCurrentDate] = useState('');
            const t = translations['zh'];

            useEffect(() => {
                window.scrollTo(0, 0);
                setMenuOpen(false);
            }, [page]);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 20);
                window.addEventListener('scroll', handleScroll);

                const date = new Date();
                setCurrentDate(date.toLocaleDateString('zh-TW', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    weekday: 'long'
                }));

                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const navItems = [
                { id: 'home',         label: t.nav.home },
                { id: 'startFarming', label: t.nav.start },
                { id: 'greenhouse',   label: t.nav.greenhouse },
                { id: 'safety',       label: t.nav.safety },
                { id: 'audit',        label: t.nav.audit },
                { id: 'healthPromo',  label: t.nav.health },
                { id: 'economics',    label: t.nav.insurance },
                { id: 'forum',        label: t.nav.forum },
                { id: 'videos',       label: t.nav.video },
                { id: 'resources',    label: t.nav.resources },
            ];

            const roleItems = [
                { id: 'newFarmerHub',   label: 'æ–°æ‰‹', icon: <Sprout size={14}/> },
                { id: 'youngFarmerHub', label: 'é’è¾²', icon: <Tractor size={14}/> },
                { id: 'seniorFarmerHub',label: 'è³‡æ·±', icon: <Heart size={14}/> },
            ];

            const renderPage = () => {
                switch (page) {
                    case 'home':            return <HomePage setPage={setPage} lang={t} currentDate={currentDate} />;
                    case 'newFarmerHub':    return <NewFarmerHubPage setPage={setPage} />;
                    case 'youngFarmerHub':  return <YoungFarmerHubPage setPage={setPage} />;
                    case 'seniorFarmerHub': return <SeniorFarmerHubPage setPage={setPage} />;
                    case 'startFarming':    return <StartFarmingPage />;
                    case 'greenhouse':      return <GreenhousePage />;
                    case 'safety':          return <SafetyPage lang={t} />;
                    case 'audit':           return <AuditPage />;
                    case 'healthPromo':     return <HealthPromoPage />;
                    case 'economics':       return <EconomicsPage />;
                    case 'forum':           return <ForumPage />;
                    case 'videos':          return <VideosPage />;
                    case 'resources':       return <ResourcesPage />;
                    default:                return <HomePage setPage={setPage} lang={t} currentDate={currentDate} />;
                }
            };

            const goRole = (id) => {
                setPage(id);
                setMenuOpen(false);
            };

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800 selection:bg-emerald-200">
                    {/* Navbar */}
                    <nav className={`fixed top-0 w-full z-50 transition-all duration-300 ${scrolled ? 'bg-white/95 backdrop-blur-md shadow-md py-2' : 'bg-emerald-900 text-white py-3'}`}>
                        <div className="max-w-[1400px] mx-auto px-4">
                            <div className="flex justify-between items-center">
                                <div className="flex items-center cursor-pointer gap-2 shrink-0" onClick={() => setPage('home')}>
                                    <img 
                                        src="Logo.PNG"
                                        alt="Logo" 
                                        className="w-16 h-16 object-contain bg-white rounded-lg"
                                    />
                                    <span className={`font-extrabold text-xl tracking-tight hidden sm:block ${scrolled ? 'text-emerald-900' : 'text-white'}`}>
                                        {t.title}
                                    </span>
                                </div>

                                {/* Desktop Nav */}
                                <div className="hidden lg:flex items-center gap-3 overflow-x-auto no-scrollbar mx-4">
                                    {navItems.map(item => (
                                        <button 
                                            key={item.id} 
                                            onClick={() => setPage(item.id)} 
                                            className={`px-3 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all ${
                                                page === item.id 
                                                    ? (scrolled ? 'bg-emerald-100 text-emerald-700' : 'bg-white/20 text-white') 
                                                    : (scrolled ? 'text-slate-500 hover:bg-slate-100' : 'text-emerald-100 hover:text-white hover:bg-white/10')
                                            }`}
                                        >
                                            {item.label}
                                        </button>
                                    ))}

                                    {/* è§’è‰²å°ˆå€ä¸‰é¡†æŒ‰éˆ• */}
                                    <div className="flex items-center gap-1 pl-2 ml-2 border-l border-emerald-700/30">
                                        {roleItems.map(r => (
                                            <button
                                                key={r.id}
                                                onClick={() => goRole(r.id)}
                                                className={`px-2.5 py-1.5 rounded-full text-xs font-bold flex items-center gap-1 ${
                                                    page === r.id
                                                        ? 'bg-emerald-200 text-emerald-900'
                                                        : 'bg-emerald-800/40 text-emerald-50 hover:bg-emerald-700/70'
                                                }`}
                                            >
                                                {r.icon}
                                                <span>{r.label}</span>
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                {/* Mobile Menu æŒ‰éˆ• */}
                                <div className="flex items-center gap-2 lg:hidden">
                                    <button
                                        onClick={() => setMenuOpen(!menuOpen)}
                                        className={`p-2 ${scrolled ? 'text-slate-800' : 'text-white'}`}
                                    >
                                        {menuOpen ? <X size={24}/> : <Menu size={24}/>}
                                    </button>
                                </div>
                            </div>
                        </div>

                        {/* Mobile Nav */}
                        {menuOpen && (
                            <div className="lg:hidden absolute top-full left-0 w-full bg-white border-t border-slate-100 shadow-xl animate-fade-in z-40">
                                <div className="p-4 space-y-3">
                                    <div className="bg-emerald-50 rounded-2xl p-3 border border-emerald-100">
                                        <div className="flex items-center gap-2 mb-2">
                                            <User size={16} className="text-emerald-700"/>
                                            <span className="text-xs font-bold text-emerald-800">è§’è‰²å°ˆå€</span>
                                        </div>
                                        <div className="flex flex-wrap gap-2">
                                            {roleItems.map(r => (
                                                <button
                                                    key={r.id}
                                                    type="button"
                                                    onClick={() => goRole(r.id)}
                                                    className="flex-1 min-w-[30%] bg-white rounded-xl px-3 py-2 text-xs font-semibold text-slate-700 border border-emerald-100 flex items-center gap-1"
                                                >
                                                    {r.icon}
                                                    <span className="truncate">{r.label}</span>
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                    {navItems.map(item => (
                                        <button
                                            key={item.id}
                                            onClick={() => setPage(item.id)}
                                            className={`block w-full text-left px-4 py-3 rounded-xl text-base font-bold ${
                                                page === item.id ? 'bg-emerald-50 text-emerald-700' : 'text-slate-600 hover:bg-slate-50'
                                            }`}
                                        >
                                            {item.label}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        )}
                    </nav>

                    {/* Main */}
                    <main className="min-h-screen pt-16">
                        {renderPage()}
                    </main>

                    {/* Footer */}
                    <footer className="bg-slate-900 text-slate-400 py-16 mt-12">
                        <div className="max-w-6xl mx-auto px-4 grid md:grid-cols-4 gap-12 mb-12">
                            <div className="col-span-1 md:col-span-2">
                                <div className="flex items-center gap-2 text-white font-bold text-2xl mb-6">
                                    <img src="Logo.PNG" className="w-16 h-16 object-contain bg-white rounded-md" alt="logo"/> 
                                    {t.title}
                                </div>
                                <p className="text-sm leading-relaxed max-w-sm">
                                    å…±æ§‹é›²å˜‰è¾²æ¥­å·¥ä½œè€…è·æ¥­å¥åº·çš„ç¤¾æœƒå®‰å…¨ç¶²ã€‚
                                </p>
                            </div>
                            <div>
                                <h4 className="text-white font-bold mb-6">è¯çµ¡æˆ‘å€‘</h4>
                                <ul className="space-y-3 text-sm">
                                    <li>æŒ‡å°å–®ä½ï¼šåœ‹å®¶ç§‘å­¸å§”å“¡æœƒ</li>
                                    <li>è¨ˆç•«ä¸»æŒå–®ä½ï¼šåœ‹ç«‹ä¸­æ­£å¤§å­¸</li>
                                    <li>åˆä½œå¤¥ä¼´ï¼šè‡ºå¤§é†«é™¢é›²åˆ†é™¢è¾²æ¥­ç’°å¢ƒèˆ‡è·æ¥­å¥åº·ä¸­å¿ƒã€æ°‘é›„é„‰è¾²æœƒ</li>
                                </ul>
                            </div>
                        </div>
                        <div className="max-w-6xl mx-auto px-4 pt-8 border-t border-slate-800 text-center text-xs">
                            Â© 2025 Dignified Agriculture Project.
                        </div>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
