<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°Šåš´è¾²æ¥­ - çŸ¥è­˜ä¸­å¿ƒ</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
        @keyframes bounce-slow { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .animate-bounce-slow { animation: bounce-slow 3s infinite; }
    </style>
</head>
<body class="bg-slate-50">
    
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ä¿®æ­£åœ–ç¤ºè¼‰å…¥å•é¡Œ (ICON FIX) ---
        // ç€è¦½å™¨ç„¡æ³•ç›´æ¥è®€å– React Iconï¼Œæˆ‘ä»¬éœ€è¦ä¸€å€‹è½‰æ›å™¨
        const createLucideComponent = (name) => ({ size = 24, className = "", ...props }) => {
            const icon = lucide.icons[name];
            if (!icon) return <span className="text-xs">?</span>; // å¦‚æœæ‰¾ä¸åˆ°åœ–ç¤ºï¼Œé¡¯ç¤ºå•è™Ÿ
            
            return (
                <svg 
                    {...icon.attrs}
                    width={size} 
                    height={size} 
                    className={className}
                    {...props}
                >
                    {icon.children && icon.children.map(([tag, attrs], index) => {
                        const Tag = tag;
                        return <Tag key={index} {...attrs} />;
                    })}
                </svg>
            );
        };

        // è¨»å†Šæ‰€æœ‰ç”¨åˆ°çš„åœ–ç¤º
        const iconList = [
            'Shield', 'Sun', 'AlertTriangle', 'Activity', 'Sprout', 
            'Users', 'BookOpen', 'Phone', 'Download', 'ChevronDown', 
            'ChevronUp', 'Menu', 'X', 'ArrowRight', 'Heart', 'DollarSign',
            'Tractor', 'HelpCircle', 'Video', 'MessageCircle', 'PlayCircle', 
            'Calendar', 'Hammer', 'MapPin', 'ThumbsUp', 'Share2', 'Search',
            'Wind', 'Droplets', 'Mic', 'Globe', 'Clock'
        ];

        // ç”¢ç”Ÿ React å¯ç”¨çš„åœ–ç¤ºçµ„ä»¶
        const Icons = {};
        iconList.forEach(name => {
            Icons[name] = createLucideComponent(name);
        });
        
        // è§£æ§‹å‡ºä¾†ä½¿ç”¨
        const { 
            Shield, Sun, AlertTriangle, Activity, Sprout, 
            Users, BookOpen, Phone, Download, ChevronDown, 
            ChevronUp, Menu, X, ArrowRight, Heart, DollarSign,
            Tractor, HelpCircle, Video, MessageCircle, PlayCircle, 
            Calendar, Hammer, MapPin, ThumbsUp, Share2, Search,
            Wind, Droplets, Mic, Globe, Clock
        } = Icons;
        // ------------------------------------

        // --- 1. å¤šèªè¨€å­—å…¸ ---
        const translations = {
            zh: {
                title: "å°Šåš´è¾²æ¥­",
                subtitle: "çŸ¥è­˜ä¸­å¿ƒ",
                heroDesc: "é€£çµæ”¿åºœè³‡æºã€é†«ç™‚å°ˆæ¥­èˆ‡åœ¨åœ°ç¶“é©—ï¼Œè®“è¾²æ¥­æˆç‚ºä¸€ä»½æœ‰å°Šåš´ã€å¯æ°¸çºŒçš„å¿—æ¥­ã€‚",
                todayRisk: "ä»Šæ—¥ç†±å±å®³é¢¨éšª",
                high: "é«˜å±éšª",
                nav: {
                    home: "é¦–é ",
                    start: "å¾äº‹è¾²æ¥­",
                    greenhouse: "æº«å®¤æ©Ÿå…·",
                    safety: "æ€¥æ•‘ä¸€äºŒä¸‰",
                    health: "å¥åº·ä¿ƒé€²",
                    insurance: "ä¿éšªç¶“æ¿Ÿ",
                    forum: "äº¤æµåœ’åœ°",
                    video: "å½±éŸ³å­¸ç¿’",
                    resources: "è³‡æºä¸‹è¼‰"
                },
                identity: {
                    new: "æˆ‘æƒ³å‹™è¾² (æ–°æ‰‹)",
                    young: "æˆ‘æ˜¯é’è¾² / åœ¨è·",
                    senior: "æˆ‘æ˜¯è³‡æ·±è¾²å‹",
                    enter: "é€²å…¥å°ˆå€"
                },
                section: {
                    forum: "æœ€æ–°äº¤æµå‹•æ…‹",
                    video: "ç†±é–€å½±éŸ³æ¨è–¦",
                    more: "æŸ¥çœ‹æ›´å¤š"
                },
                redCard: {
                    heatTitle: "ç†±åˆ°å—ä¸äº† (ä¸­æš‘)",
                    pestTitle: "è¾²è—¥ä¸­æ¯’",
                    heatSub: "æ³¨æ„ï¼æµä¸å‡ºæ±—æ˜¯æœ€å±éšªçš„è¨Šè™Ÿ",
                    pestSub: "åˆ¥ç¡¬æ’ï¼é€™æœƒå‚·åˆ°ç¥ç¶“"
                }
            },
            en: {
                title: "Dignified Agri",
                subtitle: "Knowledge Hub",
                heroDesc: "Connecting resources, medical expertise, and local experience for sustainable agriculture.",
                todayRisk: "Today's Heat Risk",
                high: "High",
                nav: {
                    home: "Home",
                    start: "Start Farming",
                    greenhouse: "Greenhouse",
                    safety: "Emergency SOS",
                    health: "Health Promo",
                    insurance: "Insurance",
                    forum: "Community",
                    video: "Videos",
                    resources: "Downloads"
                },
                identity: {
                    new: "New Farmer",
                    young: "Professional",
                    senior: "Senior Farmer",
                    enter: "Enter"
                },
                section: {
                    forum: "Latest Discussions",
                    video: "Featured Videos",
                    more: "View More"
                },
                redCard: {
                    heatTitle: "Red Card 1: Heat Stroke",
                    pestTitle: "Red Card 2: Pesticide Poisoning",
                    heatSub: "Warning! No sweating is a danger sign.",
                    pestSub: "Don't endure it! Seek help immediately."
                }
            },
            id: {
                title: "Pertanian Bermartabat",
                subtitle: "Pusat Pengetahuan",
                heroDesc: "Menghubungkan sumber daya pemerintah dan medis untuk pertanian berkelanjutan.",
                todayRisk: "Risiko Panas Hari Ini",
                high: "Tinggi",
                nav: {
                    home: "Beranda",
                    start: "Mulai Bertani",
                    greenhouse: "Rumah Kaca",
                    safety: "SOS Darurat",
                    health: "Kesehatan",
                    insurance: "Asuransi",
                    forum: "Komunitas",
                    video: "Video",
                    resources: "Unduhan"
                },
                identity: {
                    new: "Petani Baru",
                    young: "Profesional",
                    senior: "Petani Senior",
                    enter: "Masuk"
                },
                section: {
                    forum: "Diskusi Terbaru",
                    video: "Video Pilihan",
                    more: "Lihat Lebih"
                },
                redCard: {
                    heatTitle: "Kartu Merah 1: Sengatan Panas",
                    pestTitle: "Kartu Merah 2: Keracunan Pestisida",
                    heatSub: "Peringatan! Tidak berkeringat adalah tanda bahaya.",
                    pestSub: "Segera cari pertolongan medis!"
                }
            }
        };

        // --- 2. è³‡æ–™åº« ---

        const safetyData = {
            heat: {
                level: "High Risk",
                symptoms: [
                    { text: "é ­æšˆã€æƒ³åã€é ­å¾ˆç—›", icon: "ğŸ˜µ" },
                    { text: "çš®è†šä¹¾ä¹¾ç‡™ç‡™ (æ²’æµæ±—)", icon: "ğŸ”¥" },
                    { text: "èªªè©±ä¸æ¸…æ¥šã€æ˜å€’", icon: "ğŸ’¤" }
                ],
                actions: [
                    { step: "1. æ‰¾é™°æ¶¼", desc: "è¶•å¿«å»æ¨¹ä¸‹æˆ–é™°å½±è™•", icon: <Wind size={20}/> },
                    { step: "2. è„«è¡£æœ", desc: "è¡£æœé¬†é–‹ã€çš®å¸¶è§£é–‹", icon: <Users size={20}/> },
                    { step: "3. æ½‘å†·æ°´", desc: "èº«é«”æ½‘æ°´é™æº«", icon: <Droplets size={20}/> },
                    { step: "4. æ‰“119", desc: "äººæ˜å€’äº†ç«‹åˆ»å«æ•‘è­·è»Š", icon: <Phone size={20}/> }
                ]
            },
            pesticide: {
                level: "Critical",
                symptoms: [
                    { text: "ç³å­”ç¸®åˆ°å¾ˆå°", icon: "ğŸ‘€" },
                    { text: "ä¸€ç›´æµå£æ°´ã€æµçœ¼æ·š", icon: "ğŸ’¦" },
                    { text: "æ‰‹è…³ä¸€ç›´æŠ–ã€å¸ä¸åˆ°æ°£", icon: "ğŸ’ª" }
                ],
                actions: [
                    { step: "ç¦å‚¬å", desc: "åƒè¬ä¸è¦å‚¬åï¼æœƒç¼å‚·", icon: <X size={20}/> },
                    { step: "æ²–ä¹¾æ·¨", desc: "è„«æ‰é«’è¡£æœï¼Œæ²–æ°´æ´—æ¾¡", icon: <Droplets size={20}/> },
                    { step: "å¸¶ç“¶å­", desc: "æŠŠè¾²è—¥ç“¶å­å¸¶è‘—çµ¦é†«ç”Ÿçœ‹", icon: <BookOpen size={20}/> },
                    { step: "å¿«é€é†«", desc: "æ‰“119 æˆ– æ¯’ç‰©ä¸­å¿ƒ", icon: <Phone size={20}/> }
                ]
            }
        };

        const qaData = [
            { category: "ä¿éšªè¿·æ€", q: "æˆ‘æœ‰è¾²ä¿äº†ï¼Œé‚„éœ€è¦å¥ä¿å—ï¼Ÿ", a: "è¦ï¼å¥ä¿æ˜¯çœ‹é†«ç”Ÿç”¨çš„ï¼Œè¾²ä¿æ˜¯è·æ¥­èº«åˆ†ä¿éšªã€‚å¼·çƒˆå»ºè­°åŠ ä¿ã€Œè¾²æ°‘è·ç½ä¿éšªã€ï¼Œæ¯æœˆåªè¦ä¸€æ¯é£²æ–™éŒ¢ï¼Œå·¥ä½œå—å‚·ä¿éšœå¤šæ›´å¤šã€‚" },
            { category: "è·ç½èªå®š", q: "æˆ‘åœ¨ç”°è£¡æšˆå€’ï¼Œç®—æ˜¯è·æ¥­ç½å®³å—ï¼Ÿ", a: "ç®—ï¼ä½†è¦æœ‰è­‰æ“šã€‚å°±é†«æ™‚ä¸€å®šè¦è·Ÿé†«ç”Ÿèªªã€Œæˆ‘æ˜¯åœ¨å¹¾é»å¹¾åˆ†ã€åœ¨å“ªå€‹ç”°è£¡å·¥ä½œæ™‚æšˆå€’çš„ã€ï¼Œç•™ä¸‹ç´€éŒ„æ‰èƒ½ç”³è«‹çµ¦ä»˜ã€‚" },
        ];

        const videoData = [
            { id: 1, title: "EP1: é‚£äº›å¹´ï¼Œæˆ‘å€‘ä¸€èµ·è¿½çš„é³³æ¢¨",youtubeId: "bL80n414nq0", type: "Podcast", category: "è¾²æ°‘å¿ƒè²", length: "25 min", views: "1.2k", date: "2å¤©å‰", desc: "è«‡é³³æ¢¨è¾²æ¡æ”¶çš„è¾›é…¸ï¼Œèˆ‡è…°ç—›çš„å…±è™•ä¹‹é“ã€‚", coverColor: "bg-purple-600" },
            { id: 2, title: "3åˆ†é˜ç”°é–“ä¼¸å±•æ“ï¼šè²“ç‰›å¼",youtubeId: "nGFe2xwdTB8", type: "Video", category: "å¥åº·ä¿ƒé€²", length: "03:50", views: "3.5k", date: "1é€±å‰", desc: "å°å¤§ç‰©ç†æ²»ç™‚å¸«è¦ªè‡ªç¤ºç¯„ï¼Œèˆ’ç·©ä¸‹èƒŒç—›ã€‚", coverColor: "bg-red-500" },
            { id: 3, title: "è¾²è—¥é˜²è­·è¡£ç©¿è„« SOP æ•™å­¸",youtubeId: "a6uXnmb_BP0&t=1s", type: "Video", category: "è·æ¥­å®‰å…¨", length: "05:20", views: "2.1k", date: "3é€±å‰", desc: "å…ˆè„«æ‰‹å¥—é‚„æ˜¯å…ˆè„«è¡£æœï¼ŸåšéŒ¯æ­¥é©Ÿæ›´å±éšªï¼", coverColor: "bg-red-500" },
        ];

        const forumPosts = [
            { id: 1, author: "æ–°æ‰‹é’è¾²_é˜¿è±ª", avatar: "è±ª", title: "æ€¥ï¼è«‹å•æ°‘é›„å“ªè£¡æœ‰ä¿®å‰²è‰æ©Ÿçš„å¸«å‚…ï¼Ÿ", tag: "ç¶­ä¿®äº’åŠ©", content: "æˆ‘çš„èƒŒè² å¼å‰²è‰æ©Ÿçªç„¶ç™¼ä¸å‹•äº†ï¼Œå¥½åƒæ˜¯åŒ–æ²¹å™¨çš„å•é¡Œï¼Œæœ‰æ²’æœ‰æ¨è–¦çš„å¸«å‚…ï¼Ÿ", likes: 12, comments: 5, time: "2å°æ™‚å‰" },
            { id: 2, author: "æ—ºä¾†ä¼¯", avatar: "æ—º", title: "æœ€è¿‘é³³æ¢¨åƒ¹æ ¼æ³¢å‹•å¤§ï¼Œå¤§å®¶æœ‰ä¿æ”¶å…¥ä¿éšªå—ï¼Ÿ", tag: "ç¶“æ¿Ÿè¨è«–", content: "è½èªªé‚£å€‹å¥§æ—åŒ¹å…‹å¹³å‡æ³•è¨ˆç®—æ¯”è¼ƒå…¬å¹³ï¼Œæœ‰äººç†è³ éå—ï¼Ÿæƒ³è«‹æ•™ç¶“é©—ã€‚", likes: 34, comments: 12, time: "5å°æ™‚å‰" },
            { id: 3, author: "æº«å®¤å°é™³", avatar: "é™³", title: "[è´ˆé€] é€™è£¡æœ‰å¤šé¤˜çš„ 60% é®é™½ç¶²", tag: "ç‰©è³‡äº¤æµ", content: "æ›´æ›æ–°ç¶²å­ï¼ŒèˆŠçš„é‚„å ªç”¨ï¼Œç´„ 10 ç±³é•·ï¼Œæœ‰éœ€è¦çš„è¾²å‹å¯ä»¥è‡ªå–ã€‚", likes: 8, comments: 3, time: "1å¤©å‰" },
        ];

        const exerciseData = [
            { title: "è²“ç‰›å¼ (æ•‘æ•‘ä½ çš„è…°)", target: "é•·æ™‚é–“å½è…°æ‹”è‰çš„äºº", steps: ["æ‰‹æ‰¶ç”°åŸ‚ï¼Œèº«é«”å¾®å½", "å¸æ°£æ™‚æŠ¬é ­æŒºèƒ¸ (åƒç‰›)", "åæ°£æ™‚ä½é ­çœ‹è‚šè‡ (åƒè²“)", "é‡è¤‡ 10 æ¬¡"] },
            { title: "æŠ±è†ä¼¸å±• (æ”¾é¬†ä¸‹èƒŒ)", target: "æ¬é‡ç‰©è…°ç— çš„äºº", steps: ["å¹³èººä¸‹ä¾†", "é›™æ‰‹æŠ±è†å¾€èƒ¸å£æ‹‰", "åœç•™ 30 ç§’", "æ„Ÿè¦ºä¸‹èƒŒæ”¾é¬†"] },
            { title: "æ¯›å·¾è½‰è‚© (æ”¾é¬†è‚©è†€)", target: "å™´è—¥ã€æ‰‹èˆ‰é«˜çš„äºº", steps: ["æ‹¿æ¯›å·¾å…©ç«¯ä¼¸ç›´", "æ…¢æ…¢å¾€ä¸Šèˆ‰é«˜", "æ„Ÿè¦ºèƒ¸å£æ‹‰é–‹", "ç¶­æŒ 10 ç§’"] }
        ];

        // --- 3. UI æ¨¡çµ„ (Components) ---

        const Badge = ({ children, color = "green" }) => {
            const colors = {
                green: "bg-emerald-100 text-emerald-700",
                blue: "bg-blue-100 text-blue-700",
                purple: "bg-purple-100 text-purple-700",
                red: "bg-red-100 text-red-700",
                orange: "bg-orange-100 text-orange-700",
                gray: "bg-gray-100 text-gray-700",
                white: "bg-white/90 text-slate-800"
            };
            return <span className={`text-xs font-bold px-2.5 py-0.5 rounded-full ${colors[color] || colors.gray}`}>{children}</span>;
        };

        const SOSButton = ({ onClick, label }) => (
            <button 
                onClick={onClick}
                className="fixed bottom-6 right-6 z-50 bg-red-600 hover:bg-red-700 text-white p-4 rounded-full shadow-2xl flex items-center gap-2 transition-transform hover:scale-105 active:scale-95 border-4 border-white animate-bounce-slow"
                title="Emergency / Darurat"
            >
                <AlertTriangle size={24}/>
                <span className="font-bold pr-1">{label}</span>
            </button>
        );

        const SectionHeader = ({ icon: Icon, title, subtitle }) => (
            <div className="mb-10 text-center animate-fade-in">
                <div className="inline-flex p-3 bg-emerald-100 rounded-xl mb-4">
                    <Icon className="w-8 h-8 text-emerald-700" />
                </div>
                <h2 className="text-3xl font-extrabold text-slate-800 mb-2">{title}</h2>
                <p className="text-slate-500 text-lg max-w-2xl mx-auto">{subtitle}</p>
            </div>
        );

        const ActionButton = ({ children, onClick, variant = "primary", className = "" }) => {
            const variants = {
                primary: "bg-emerald-600 text-white hover:bg-emerald-700 shadow-md",
                secondary: "bg-white text-slate-700 border border-slate-200 hover:bg-slate-50 shadow-sm",
                outline: "border-2 border-emerald-600 text-emerald-600 hover:bg-emerald-50"
            };
            return (
                <button className={`px-6 py-3 rounded-xl font-bold transition-all transform active:scale-95 flex items-center justify-center gap-2 ${variants[variant]} ${className}`} onClick={onClick}>
                    {children}
                </button>
            );
        };

        const EmergencyCard = ({ data, type, lang }) => {
            const isHeat = type === 'heat';
            const theme = isHeat ? { bg: 'bg-orange-50', border: 'border-orange-500', text: 'text-orange-600', sub: 'text-orange-800' } : { bg: 'bg-red-50', border: 'border-red-600', text: 'text-red-600', sub: 'text-red-800' };
            
            const title = isHeat ? lang.redCard.heatTitle : lang.redCard.pestTitle;
            const subtitle = isHeat ? lang.redCard.heatSub : lang.redCard.pestSub;

            return (
                <div className={`rounded-2xl bg-white border-l-8 ${theme.border} shadow-lg overflow-hidden`}>
                    <div className={`${theme.bg} p-6 border-b border-white/50 flex justify-between items-start`}>
                        <div>
                            <div className={`flex items-center gap-2 mb-1 font-bold ${theme.text} uppercase text-sm tracking-wider`}>
                                <AlertTriangle size={18}/> {data.level}
                            </div>
                            <h3 className="text-2xl font-extrabold text-slate-800">{title}</h3>
                            <p className={`${theme.sub} mt-1 font-medium`}>{subtitle}</p>
                        </div>
                        <Phone className={`${theme.text} opacity-20`} size={40} />
                    </div>
                    
                    <div className="p-6 grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 className="font-bold text-slate-700 mb-4 flex items-center gap-2">
                                <Activity size={18} className="text-slate-400"/> å±éšªå¾µå…† (Symptoms)
                            </h4>
                            <ul className="space-y-3">
                                {data.symptoms.map((sym, i) => (
                                    <li key={i} className="flex items-center gap-3 bg-slate-50 p-3 rounded-xl border border-slate-100">
                                        <span className="text-2xl">{sym.icon}</span>
                                        <span className="font-bold text-slate-700">{sym.text}</span>
                                    </li>
                                ))}
                            </ul>
                        </div>

                        <div>
                            <h4 className="font-bold text-slate-700 mb-4 flex items-center gap-2">
                                <Shield size={18} className="text-slate-400"/> é¦¬ä¸Šé€™æ¨£åšï¼(Action)
                            </h4>
                            <div className="grid grid-cols-2 gap-3">
                                {data.actions.map((act, i) => (
                                    <div key={i} className={`${theme.bg} p-3 rounded-xl flex flex-col items-center text-center border border-white/50`}>
                                        <div className={`mb-2 p-2 bg-white rounded-full ${theme.text} shadow-sm`}>{act.icon}</div>
                                        <span className="font-bold text-slate-900 block mb-1">{act.step}</span>
                                        <span className="text-xs text-slate-600 leading-tight">{act.desc}</span>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const Accordion = ({ category, question, answer }) => {
            const [isOpen, setIsOpen] = useState(false);
            return (
                <div className="border border-slate-100 bg-white rounded-xl mb-3 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                    <button 
                        className="w-full py-4 px-6 flex justify-between items-center text-left focus:outline-none hover:bg-slate-50"
                        onClick={() => setIsOpen(!isOpen)}
                    >
                        <div>
                            <Badge color="blue">{category}</Badge>
                            <div className="font-bold text-lg text-slate-800 mt-2">{question}</div>
                        </div>
                        {isOpen ? <ChevronUp className="text-emerald-600" /> : <ChevronDown className="text-slate-400" />}
                    </button>
                    {isOpen && (
                        <div className="px-6 pb-6 text-slate-600 leading-relaxed border-t border-slate-50 pt-4 bg-slate-50/50">
                            {answer}
                        </div>
                    )}
                </div>
            );
        };

        // --- 4. é é¢çµ„ä»¶ (Pages) ---

       // --- ä¿®æ”¹å¾Œçš„ HomePage (é¦–é ç¾åœ¨ä¹Ÿæœƒé¡¯ç¤º YouTube ç¸®åœ–) ---
const HomePage = ({ setPage, lang, currentDate }) => (
  <div className="animate-fade-in pb-12">
    {/* Daily Dashboard */}
    <div className="bg-emerald-900 text-white pt-24 pb-32 px-4 rounded-b-[2.5rem] shadow-xl relative overflow-hidden">
      <div className="max-w-7xl mx-auto relative z-10">
        <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
           <div>
             <div className="inline-flex items-center gap-2 bg-emerald-800/50 backdrop-blur-md px-4 py-1.5 rounded-full text-emerald-100 text-sm font-medium border border-emerald-700/50 mb-4">
               <MapPin size={14}/> å˜‰ç¾©ç¸£æ°‘é›„é„‰ | <Calendar size={14}/> {currentDate}
             </div>
             <h1 className="text-4xl md:text-6xl font-extrabold tracking-tight">
               {lang.title}<span className="text-emerald-400">{lang.subtitle}</span>
             </h1>
           </div>
           
           {/* Alert Widget */}
           <div className="bg-white/10 backdrop-blur-md border border-white/10 rounded-2xl p-4 w-full md:w-auto flex items-center gap-4 text-left shadow-lg">
             <div className="bg-orange-500 p-3 rounded-xl text-white shadow-lg animate-pulse">
               <Sun size={32} />
             </div>
             <div>
               <h3 className="font-bold text-white text-lg">{lang.todayRisk}ï¼š{lang.high}</h3>
               <p className="text-emerald-100 text-sm opacity-80">11:00 - 14:00 Avoid outdoor work.</p>
             </div>
           </div>
        </div>

        <p className="text-lg md:text-xl text-emerald-100/80 max-w-2xl font-light mb-10">
          {lang.heroDesc}
        </p>
      </div>
    </div>

    {/* Identity Cards (èº«åˆ†å…¥å£) */}
    <div className="max-w-7xl mx-auto px-4 -mt-20 relative z-20 mb-16">
      <div className="grid md:grid-cols-3 gap-6">
        {[
          { 
            title: lang.identity.new, 
            icon: <Sprout size={32}/>, 
            desc: "çœ‹æ¸…é¢¨éšªï¼ŒçœŸå¯¦è©•è«–æ­éœ²ã€‚", 
            color: "from-blue-500 to-blue-600", 
            page: "startFarming" 
          },
          { 
            title: lang.identity.young, 
            icon: <Tractor size={32}/>, 
            desc: "æº«å®¤è·å®‰èˆ‡çœå·¥æ©Ÿå…·å°ç­–ã€‚", 
            color: "from-emerald-500 to-emerald-600", 
            page: "greenhouse" 
          },
          { 
            title: lang.identity.senior, 
            icon: <Heart size={32}/>, 
            desc: "ç— ç—›æ”¹å–„èˆ‡è·ç½çµ¦ä»˜ç”³è«‹ã€‚", 
            color: "from-orange-500 to-orange-600", 
            page: "healthPromo" 
          }
        ].map((item, i) => (
          <div 
            key={i}
            onClick={() => setPage(item.page)} 
            className="bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer p-8 group border border-slate-100"
          >
            <div className={`w-14 h-14 rounded-xl bg-gradient-to-br ${item.color} text-white flex items-center justify-center mb-6 shadow-md group-hover:scale-110 transition-transform`}>
              {item.icon}
            </div>
            <h3 className="text-2xl font-bold text-slate-800 mb-3">{item.title}</h3>
            <p className="text-slate-500 mb-6 leading-relaxed">{item.desc}</p>
            <div className="flex items-center text-sm font-bold text-emerald-600 group-hover:text-emerald-700">
              {lang.identity.enter} <ArrowRight size={16} className="ml-2 group-hover:translate-x-1 transition-transform"/>
            </div>
          </div>
        ))}
      </div>
    </div>

    {/* é›™æ¬„è³‡è¨Šæµï¼šäº¤æµåœ’åœ° + å½±éŸ³å°ˆå€ */}
    <div className="max-w-7xl mx-auto px-4 grid lg:grid-cols-2 gap-8 mb-12">
      {/* å·¦æ¬„ï¼šäº¤æµåœ’åœ° */}
      <div className="bg-white rounded-3xl p-8 border border-slate-100 shadow-lg">
         <div className="flex justify-between items-center mb-6 border-b border-slate-50 pb-4">
           <h3 className="text-2xl font-bold text-slate-800 flex items-center gap-3">
             <MessageCircle className="text-blue-600 fill-blue-100"/> {lang.section.forum}
           </h3>
           <button onClick={() => setPage('forum')} className="text-sm font-bold text-blue-600 hover:bg-blue-50 px-3 py-1 rounded-full transition-colors">{lang.section.more}</button>
         </div>
         <div className="space-y-4">
           {forumPosts.map((post) => (
             <div key={post.id} className="flex gap-4 p-4 rounded-2xl bg-slate-50 hover:bg-blue-50/50 transition-colors cursor-pointer border border-transparent hover:border-blue-100 group" onClick={() => setPage('forum')}>
               <div className="w-12 h-12 rounded-full bg-white border border-slate-100 flex items-center justify-center font-bold text-slate-500 flex-shrink-0 shadow-sm group-hover:text-blue-600 group-hover:border-blue-200">
                 {post.avatar}
               </div>
               <div className="flex-grow">
                 <div className="flex justify-between items-start">
                   <h4 className="font-bold text-slate-800 line-clamp-1 group-hover:text-blue-700">{post.title}</h4>
                   <span className="text-xs text-slate-400 whitespace-nowrap">{post.time}</span>
                 </div>
                 <p className="text-sm text-slate-500 line-clamp-1 mt-1 mb-2">{post.content}</p>
                 <div className="flex gap-3 text-xs text-slate-400 font-medium">
                   <Badge color="blue">{post.tag}</Badge>
                   <span className="flex items-center gap-1 ml-auto"><MessageCircle size={14}/> {post.comments}</span>
                 </div>
               </div>
             </div>
           ))}
         </div>
      </div>

      {/* å³æ¬„ï¼šå½±éŸ³å°ˆå€ (é€™è£¡æ›´æ–°äº†ï¼æœƒæŠ“å– videoData çš„åœ–ç‰‡) */}
      <div className="bg-slate-900 rounded-3xl p-8 shadow-lg text-white relative overflow-hidden">
         <div className="absolute top-0 right-0 w-64 h-64 bg-emerald-500 rounded-full blur-[80px] opacity-20 -mr-16 -mt-16 pointer-events-none"></div>
         <div className="relative z-10">
           <div className="flex justify-between items-center mb-6 border-b border-white/10 pb-4">
             <h3 className="text-2xl font-bold flex items-center gap-3">
               <PlayCircle className="text-emerald-400 fill-emerald-900"/> {lang.section.video}
             </h3>
             <button onClick={() => setPage('videos')} className="text-sm font-bold text-emerald-400 hover:text-emerald-300 transition-colors">{lang.section.more}</button>
           </div>
           
           {/* é¦–é æ¨è–¦å½±ç‰‡ (Featured Video) */}
           {/* è‡ªå‹•æŠ“å– videoData çš„ç¬¬ä¸€ç­†è³‡æ–™é¡¯ç¤º */}
           <div className="bg-white/5 rounded-2xl p-4 mb-4 backdrop-blur-sm border border-white/10 cursor-pointer hover:bg-white/10 transition-colors group" onClick={() => setPage('videos')}>
             <div className="flex gap-5">
               {/* ç¸®åœ–å€åŸŸ */}
               <div className="w-32 h-24 bg-black rounded-xl flex items-center justify-center flex-shrink-0 relative overflow-hidden border border-white/10">
                 {videoData[0] && videoData[0].youtubeId ? (
                   <img 
                     src={`https://img.youtube.com/vi/${videoData[0].youtubeId}/mqdefault.jpg`} 
                     alt="thumbnail" 
                     className="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"
                   />
                 ) : (
                   <div className="w-full h-full bg-purple-900"></div>
                 )}
                 <PlayCircle size={32} className="text-white absolute z-10 drop-shadow-md group-hover:scale-110 transition-transform"/>
               </div>
               
               {/* æ–‡å­—å€åŸŸ */}
               <div className="flex flex-col justify-center">
                 <div className="mb-2"><Badge color="white">{videoData[0]?.type || 'Video'}</Badge></div>
                 <h4 className="font-bold text-lg mb-1 group-hover:text-emerald-300 transition-colors line-clamp-1">{videoData[0]?.title}</h4>
                 <p className="text-sm text-slate-400 line-clamp-1">{videoData[0]?.desc}</p>
               </div>
             </div>
           </div>

           {/* å…¶ä»–å½±ç‰‡åˆ—è¡¨ (Video List) */}
           <div className="space-y-3">
              {videoData.slice(1, 3).map((video) => (
                <div key={video.id} className="flex items-center gap-4 p-3 rounded-xl hover:bg-white/5 cursor-pointer text-slate-300 hover:text-white transition-colors border border-transparent hover:border-white/5" onClick={() => setPage('videos')}>
                  {/* å°ç¸®åœ– */}
                  <div className="w-10 h-10 rounded-lg bg-black/50 overflow-hidden flex-shrink-0 border border-white/10">
                     {video.youtubeId ? (
                        <img src={`https://img.youtube.com/vi/${video.youtubeId}/default.jpg`} className="w-full h-full object-cover" />
                     ) : (
                        <div className="flex items-center justify-center h-full"><PlayCircle size={16}/></div>
                     )}
                  </div>
                  <span className="font-medium truncate flex-grow text-sm md:text-base">{video.title}</span>
                  <span className="text-xs opacity-50 whitespace-nowrap">{video.views}</span>
                </div>
              ))}
           </div>
         </div>
      </div>
    </div>
  </div>
);

        const SafetyPage = ({ lang }) => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader 
                    icon={Shield} 
                    title={lang.nav.safety} 
                    subtitle="SOS Guide / æ•‘å‘½æŒ‡å—"
                />
                <div className="space-y-8">
                    <EmergencyCard data={safetyData.heat} type="heat" lang={lang} />
                    <EmergencyCard data={safetyData.pesticide} type="pesticide" lang={lang} />
                </div>
                <div className="mt-12 text-center">
                    <div className="inline-block bg-slate-100 rounded-xl p-6">
                        <p className="text-slate-600 mb-4 font-bold">Medical Support / å°ˆæ¥­è«®è©¢</p>
                        <div className="flex flex-wrap gap-4 justify-center">
                            <a href="tel:02-2871-7121" className="flex items-center gap-2 bg-white text-slate-800 px-5 py-3 rounded-lg shadow-sm font-bold border border-slate-200 hover:bg-slate-50">
                                <Phone size={18}/> æ¯’ç‰©ä¸­å¿ƒ (24H): 02-2871-7121
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        );

        const EconomicsPage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader 
                    icon={DollarSign} 
                    title="ä¿éšªèˆ‡ç¶“æ¿Ÿå®‰å…¨" 
                    subtitle="ææ‡‚æ¬Šç›Šï¼Œå¢åŠ ä½ çš„è²¡å‹™éŸŒæ€§ã€‚"
                />
                
                <div className="bg-white p-8 rounded-3xl shadow-sm border border-slate-100 mb-12">
                    <h3 className="text-2xl font-bold mb-8 text-center text-slate-800">ä¿éšªæ±ºç­–æ¨¹ï¼šæˆ‘è©²ä¿ä»€éº¼ï¼Ÿ</h3>
                    <div className="grid md:grid-cols-2 gap-8">
                        <div className="bg-blue-50/50 rounded-2xl p-6 border border-blue-100">
                            <h4 className="text-xl font-bold text-blue-800 mb-4 flex items-center gap-2">
                                <Users size={24}/> æ“”å¿ƒã€Œäººã€å—å‚·
                            </h4>
                            <ul className="space-y-4">
                                <li className="bg-white p-4 rounded-xl shadow-sm">
                                    <span className="font-bold block text-slate-800 mb-1">1. è¾²æ°‘å¥åº·ä¿éšª (åŸºæœ¬)</span>
                                    <span className="text-sm text-slate-500">ç”Ÿè‚²ã€èº«å¿ƒéšœç¤™ã€å–ªè‘¬æ´¥è²¼ã€‚</span>
                                </li>
                                <li className="bg-blue-600 text-white p-4 rounded-xl shadow-lg transform scale-105 ring-4 ring-blue-100">
                                    <span className="font-bold block flex items-center justify-between mb-1">
                                        2. è¾²æ°‘è·ç½ä¿éšª (å¿…ä¿!) <Heart size={16} className="fill-current"/>
                                    </span>
                                    <span className="text-sm opacity-90">
                                        æ¯æœˆåªè¦ç´„15å…ƒã€‚å«å—å‚·çµ¦ä»˜ã€å°±é†«æ´¥è²¼ã€‚CPå€¼æœ€é«˜ï¼
                                    </span>
                                </li>
                            </ul>
                        </div>
                        <div className="bg-green-50/50 rounded-2xl p-6 border border-green-100">
                            <h4 className="text-xl font-bold text-green-800 mb-4 flex items-center gap-2">
                                <Sprout size={24}/> æ“”å¿ƒã€Œä½œç‰©ã€æ²’æ”¶æˆ
                            </h4>
                            <ul className="space-y-4">
                                <li className="bg-white p-4 rounded-xl shadow-sm">
                                    <span className="font-bold block text-slate-800 mb-1">1. å¤©ç„¶ç½å®³æ•‘åŠ©</span>
                                    <span className="text-sm text-slate-500">éœ€é”æå®³æ¨™æº– (å¦‚20%)ï¼Œè£œè²¼æˆæœ¬ç”¨ã€‚</span>
                                </li>
                                <li className="bg-green-100 p-4 rounded-xl shadow-sm border border-green-200">
                                    <span className="font-bold block text-green-800 mb-1">2. ä½œç‰©æ”¶å…¥ä¿éšª</span>
                                    <span className="text-sm text-green-700">
                                        ä¿éšœæ”¶å…¥ï¼è‹¥ä½æ–¼åŸºæº–å°±ç†è³ ã€‚<br/>
                                        <span className="text-xs bg-white px-2 py-1 rounded mt-2 inline-block border shadow-sm font-bold">
                                            é—œéµå­—ï¼šå¥§æ—åŒ¹å…‹å¹³å‡æ³•
                                        </span>
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        );

        const StartFarmingPage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader 
                    icon={Sprout} 
                    title="å¾äº‹è¾²æ¥­ï¼šçœŸå¯¦é¢æ­éœ²" 
                    subtitle="å‰è¼©çš„çœŸå¿ƒè©±ã€‚çœ‹æ¸…é¢¨éšªï¼Œæ‰èƒ½èµ°å¾—é•·é ã€‚"
                />
                
                <div className="space-y-6 mb-12">
                    <div className="bg-white p-8 rounded-2xl shadow-sm border-l-8 border-yellow-400">
                        <div className="flex items-center gap-2 mb-3">
                            <div className="flex text-yellow-400"><span className="text-xl">â˜…â˜…</span><span className="text-slate-200 text-xl">â˜…â˜…â˜…</span></div>
                            <span className="font-bold text-slate-800 text-lg">æ”¶å…¥çœŸçš„ä¸ç©©å®š</span>
                        </div>
                        <p className="text-slate-600 italic text-lg leading-relaxed">
                            "å¤§å®¶éƒ½èªªé’è¾²è¿”é„‰å¾ˆæ£’ï¼Œä½†å‰ä¸‰å¹´çœŸçš„è¦æœ‰ã€åƒè€æœ¬ã€çš„å¿ƒç†æº–å‚™ã€‚å»ºè­°æ–°æ‰‹ä¸€å®šè¦æº–å‚™å¥½é å‚™é‡‘ï¼Œæˆ–è€…å…ˆå¾å…¼æ¥­ï¼ˆæ–œæ§“ï¼‰é–‹å§‹ï¼Œä¸è¦ä¸€æ¬¡å…¨å£“èº«å®¶ã€‚"
                        </p>
                        <p className="text-right text-sm text-slate-400 mt-4 font-bold">- å˜‰ç¾©é’è¾²çš„å¿ƒè²</p>
                    </div>

                    <div className="bg-white p-8 rounded-2xl shadow-sm border-l-8 border-red-400">
                        <div className="flex items-center gap-2 mb-3">
                            <div className="flex text-yellow-400"><span className="text-xl">â˜…</span><span className="text-slate-200 text-xl">â˜…â˜…â˜…â˜…</span></div>
                            <span className="font-bold text-slate-800 text-lg">èº«é«”å£å¾—æ¯”æƒ³åƒå¿«</span>
                        </div>
                        <p className="text-slate-600 italic text-lg leading-relaxed">
                            "æˆ‘ä»¥ç‚ºæˆ‘å¹´è¼•åŠ›å£¯ï¼Œæ¬é³³æ¢¨éƒ½è‡ªå·±ä¾†ã€‚çµæœäº”å¹´è…°å°±å£äº†ã€‚ä¸è¦ä»¥ç‚ºå¹´è¼•å°±æ˜¯æœ¬éŒ¢ï¼Œè­·å…·å’Œå§¿å‹¢æœ€é‡è¦ï¼Œä¸ç„¶è³ºçš„éŒ¢éƒ½æ‹¿å»çœ‹é†«ç”Ÿã€‚"
                        </p>
                        <p className="text-right text-sm text-slate-400 mt-4 font-bold">- é³³æ¢¨è¾² å³å…ˆç”Ÿ</p>
                    </div>
                </div>

                <div className="bg-emerald-50 p-8 rounded-3xl">
                    <h3 className="text-2xl font-bold mb-6 text-center text-emerald-900">å®˜æ–¹è³‡æºå°èˆª</h3>
                    <div className="grid md:grid-cols-2 gap-4">
                        <a href="https://www.moa.gov.tw/" target="_blank" rel="noreferrer" className="bg-white p-6 rounded-xl hover:shadow-lg transition-all flex items-center gap-4 group">
                            <div className="bg-emerald-100 p-3 rounded-full text-emerald-600 group-hover:bg-emerald-600 group-hover:text-white transition-colors"><Users/></div>
                            <div>
                                <div className="font-bold text-emerald-900 text-lg">ç™¾å¤§é’è¾²è¨ˆç•«</div>
                                <div className="text-sm text-slate-500">æ‰¾é™ªä¼´å¸«æ•™æŠ€è¡“èˆ‡è¡ŒéŠ·</div>
                            </div>
                        </a>
                        <a href="https://www.boaf.gov.tw/" target="_blank" rel="noreferrer" className="bg-white p-6 rounded-xl hover:shadow-lg transition-all flex items-center gap-4 group">
                            <div className="bg-emerald-100 p-3 rounded-full text-emerald-600 group-hover:bg-emerald-600 group-hover:text-white transition-colors"><DollarSign/></div>
                            <div>
                                <div className="font-bold text-emerald-900 text-lg">é’å¹´å¾è¾²è²¸æ¬¾</div>
                                <div className="text-sm text-slate-500">å‰5å¹´å…æ¯ï¼Œæ¸›è¼•å£“åŠ›</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        );

        const GreenhousePage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader 
                    icon={Tractor} 
                    title="æº«å®¤èˆ‡çœå·¥æ©Ÿå…·" 
                    subtitle="è®“ç§‘æŠ€å¹«ä½ æµæ±—ï¼Œé é˜²è·æ¥­å‚·å®³ã€‚"
                />
                <div className="grid md:grid-cols-2 gap-8 mb-12">
                    <div className="bg-white p-6 rounded-2xl shadow-md border border-slate-100">
                        <h3 className="text-xl font-bold mb-4 text-emerald-800 flex items-center gap-2"><Sun/> æº«å®¤ç†±å±å®³å°ç­–</h3>
                        <ul className="space-y-4 text-slate-600">
                            <li className="flex gap-3 items-start"><span className="text-orange-500 font-bold">1.</span> <span><b>è£é¢¨æ‰‡ï¼š</b>ä¸€å®šè¦è£åœ¨ã€Œäººç«™çš„é«˜åº¦ã€ã€‚</span></li>
                            <li className="flex gap-3 items-start"><span className="text-orange-500 font-bold">2.</span> <span><b>èº²å¤ªé™½ï¼š</b>å–„ç”¨é»‘ç¶²é®é™½ã€‚</span></li>
                            <li className="flex gap-3 items-start"><span className="text-orange-500 font-bold">3.</span> <span><b>å¼·åˆ¶è£œæ°´ï¼š</b>è¨­é¬§é˜æ¯20åˆ†é˜å–æ°´ã€‚</span></li>
                        </ul>
                    </div>
                    <div className="bg-white p-6 rounded-2xl shadow-md border border-slate-100">
                        <h3 className="text-xl font-bold mb-4 text-blue-800 flex items-center gap-2"><Tractor/> çœå·¥æ©Ÿå…·æ¨è–¦</h3>
                        <ul className="space-y-4 text-slate-600">
                            <li className="flex gap-3 items-start"><span className="text-blue-500 font-bold">1.</span> <span><b>ç„¡äººæ©Ÿå™´è—¥ï¼š</b>é é›¢ä¸­æ¯’é¢¨éšªã€‚</span></li>
                            <li className="flex gap-3 items-start"><span className="text-blue-500 font-bold">2.</span> <span><b>æ¡æ”¶æ¬é‹æ©Ÿï¼š</b>æ•‘æ•‘ä½ çš„è…°ã€‚</span></li>
                            <li className="flex gap-3 items-start"><span className="text-blue-500 font-bold">3.</span> <span><b>åé§•å¼å‰²è‰æ©Ÿï¼š</b>æ¸›å°‘é«”åŠ›æ¶ˆè€—ã€‚</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        );

        const HealthPromoPage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader 
                    icon={Activity} 
                    title="å¥åº·ä¿ƒé€²èˆ‡ä¼¸å±•" 
                    subtitle="æ¯å¤© 3 åˆ†é˜ï¼Œé é˜²è…°é…¸èƒŒç—›ã€‚"
                />
                <div className="grid md:grid-cols-3 gap-6 mb-12">
                    {exerciseData.map((ex, i) => (
                        <div key={i} className="bg-white p-6 rounded-2xl shadow-md border-t-4 border-emerald-500">
                            <h3 className="text-xl font-bold mb-2 text-slate-800">{ex.title}</h3>
                            <Badge color="green">é©åˆï¼š{ex.target}</Badge>
                            <ol className="list-decimal list-inside space-y-2 text-slate-600 mt-4 bg-slate-50 p-4 rounded-xl">
                                {ex.steps.map((s, j) => (
                                    <li key={j}>{s}</li>
                                ))}
                            </ol>
                        </div>
                    ))}
                </div>
                <div className="bg-orange-50 p-8 rounded-3xl text-center">
                    <h3 className="text-2xl font-bold text-orange-900 mb-4">è³‡æ·±è¾²å‹å°ˆå€</h3>
                    <p className="text-orange-800 mb-6 max-w-2xl mx-auto">
                        å¦‚æœç—›å¤ªä¹…ï¼Œè«‹ä¸è¦åªè²¼è—¥å¸ƒï¼Œå»ºè­°è‡³<b>ã€Œè·æ¥­é†«å­¸ç§‘ã€</b>å°±è¨ºã€‚
                    </p>
                    <ActionButton variant="secondary" onClick={() => window.open('https://www.ntuh.gov.tw/EOM-CMOID/Fpage.action?muid=4091&fid=3918', '_blank')}>
                        å°‹æ‰¾å°å¤§é›²æ—åˆ†é™¢è·æ¥­é†«å­¸ç§‘
                    </ActionButton>
                </div>
            </div>
        );

        const ForumPage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader icon={MessageCircle} title="è¾²æ°‘äº¤æµåœ’åœ°" subtitle="äº’åŠ©åˆä½œï¼Œåšå½¼æ­¤çš„å¾Œç›¾ã€‚" />
                <div className="mb-12">
                    <h3 className="font-bold text-xl mb-4 text-slate-700">å¸¸è¦‹è¿·æ€ QA</h3>
                    {qaData.map((item, i) => (
                        <Accordion key={i} category={item.category} question={item.q} answer={item.a} />
                    ))}
                </div>
                <div className="bg-white rounded-3xl border border-slate-100 shadow-md overflow-hidden">
                    <div className="p-6 bg-slate-50 border-b border-slate-100">
                        <h3 className="font-bold text-slate-700">æœ€æ–°è¨è«–æ–‡ç« </h3>
                    </div>
                    <div>
                        {forumPosts.map((post) => (
                            <div key={post.id} className="p-6 border-b border-slate-50 hover:bg-blue-50/30 transition-colors">
                                <h4 className="font-bold text-lg text-slate-800 mb-2">{post.title}</h4>
                                <p className="text-slate-600 mb-4">{post.content}</p>
                                <div className="flex gap-4 text-sm text-slate-400">
                                    <span>{post.author}</span>
                                    <span>{post.time}</span>
                                    <span className="text-blue-500 font-bold">{post.tag}</span>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        );

    // --- ä¿®æ”¹å¾Œçš„ VideosPage (å…§åµŒ YouTube æ’­æ”¾å™¨) ---
const VideosPage = () => (
  <div className="max-w-6xl mx-auto px-4 py-12 animate-fade-in">
    <SectionHeader icon={PlayCircle} title="å½±éŸ³å­¸ç¿’å°ˆå€" subtitle="ç”¨çœ‹ç”¨è½éƒ½æ–¹ä¾¿ã€‚" />
    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      {videoData.map((video) => (
        <div 
          key={video.id} 
          className="bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-lg transition-shadow border border-slate-100 group"
        >
          {/* å½±ç‰‡æ’­æ”¾å€åŸŸ (Iframe) */}
          <div className="aspect-video w-full bg-black relative">
             <iframe 
               className="absolute top-0 left-0 w-full h-full"
               src={`https://www.youtube.com/embed/${video.youtubeId}`} 
               title={video.title}
               frameBorder="0" 
               allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
               allowFullScreen
             ></iframe>
          </div>

          <div className="p-6">
            <div className="flex justify-between items-start mb-2">
                <h3 className="font-bold text-lg text-slate-800 line-clamp-2">{video.title}</h3>
                <Badge color="blue">{video.type}</Badge>
            </div>
            <p className="text-sm text-slate-500 mb-4 line-clamp-2">{video.desc}</p>
            <div className="text-xs text-slate-400 flex justify-between border-t border-slate-50 pt-3">
                <span>{video.date}</span>
                <span>{video.views} æ¬¡è§€çœ‹</span>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
);

        const ResourcesPage = () => (
            <div className="max-w-4xl mx-auto px-4 py-12 animate-fade-in">
                <SectionHeader icon={Download} title="è³‡æºä¸‹è¼‰" subtitle="å¸¶å¾—èµ°çš„å·¥å…·åŒ…ã€‚" />
                <div className="grid gap-4">
                    {[{name: "ç”°é–“è­·èº«æ“æµ·å ±", size: "PDF"}, {name: "è¾²è—¥é˜²è­· SOP å°å¡", size: "PDF"}, {name: "è¨˜å¸³ Excel è¡¨", size: "XLS"}].map((item, i) => (
                        <div key={i} className="bg-white p-6 rounded-2xl shadow-sm flex justify-between items-center border border-slate-100 hover:border-emerald-500 transition-colors cursor-pointer group">
                            <div className="flex items-center gap-4">
                                <div className="bg-slate-100 p-3 rounded-lg text-slate-500 group-hover:bg-emerald-100 group-hover:text-emerald-600"><BookOpen size={24}/></div>
                                <span className="font-bold text-lg text-slate-700">{item.name}</span>
                            </div>
                            <span className="text-sm font-bold text-slate-400 bg-slate-50 px-3 py-1 rounded-full">{item.size}</span>
                        </div>
                    ))}
                </div>
            </div>
        );

        // --- 5. ä¸»ç¨‹å¼ (Main App) ---

        function App() {
            const [page, setPage] = useState('home');
            const [menuOpen, setMenuOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);
            
            const [currentLang, setCurrentLang] = useState('zh');
            const [showLangMenu, setShowLangMenu] = useState(false);
            const t = translations[currentLang];

            const [currentDate, setCurrentDate] = useState('');

            useEffect(() => { window.scrollTo(0, 0); setMenuOpen(false); }, [page]);
            
            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 20);
                window.addEventListener('scroll', handleScroll);
                
                const date = new Date();
                const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
                setCurrentDate(date.toLocaleDateString('zh-TW', options));

                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const changeLang = (lang) => {
                setCurrentLang(lang);
                setShowLangMenu(false);
            };

            const navItems = [
                { id: 'home', label: t.nav.home },
                { id: 'startFarming', label: t.nav.start },
                { id: 'greenhouse', label: t.nav.greenhouse },
                { id: 'safety', label: t.nav.safety },
                { id: 'healthPromo', label: t.nav.health },
                { id: 'economics', label: t.nav.insurance },
                { id: 'forum', label: t.nav.forum },
                { id: 'videos', label: t.nav.video },
                { id: 'resources', label: t.nav.resources },
            ];

            const renderPage = () => {
                switch (page) {
                    case 'home': return <HomePage setPage={setPage} lang={t} currentDate={currentDate} />;
                    case 'startFarming': return <StartFarmingPage />;
                    case 'greenhouse': return <GreenhousePage />;
                    case 'safety': return <SafetyPage lang={t} />;
                    case 'healthPromo': return <HealthPromoPage />;
                    case 'economics': return <EconomicsPage />;
                    case 'forum': return <ForumPage />;
                    case 'videos': return <VideosPage />;
                    case 'resources': return <ResourcesPage />;
                    default: return <HomePage setPage={setPage} lang={t} currentDate={currentDate} />;
                }
            };

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800 selection:bg-emerald-200">
                    <nav className={`fixed top-0 w-full z-50 transition-all duration-300 ${scrolled ? 'bg-white/95 backdrop-blur-md shadow-md py-2' : 'bg-emerald-900 text-white py-3'}`}>
                        <div className="max-w-[1400px] mx-auto px-4">
                            <div className="flex justify-between items-center">
                                <div className="flex items-center cursor-pointer gap-2 shrink-0" onClick={() => setPage('home')}>
                                    <img 
    src="Logo.PNG"       // è«‹ç¢ºèªé€™è£¡çš„æª”åè·Ÿæ‚¨ä¸Šå‚³çš„ä¸€æ¨¡ä¸€æ¨£
    alt="Logo" 
    className="w-20 h-20 object-contain bg-white rounded-lg" // w-10 h-10 æ˜¯æ§åˆ¶å¤§å°
  />
                                    <span className={`font-extrabold text-xl tracking-tight hidden sm:block ${scrolled ? 'text-emerald-900' : 'text-white'}`}>{t.title}</span>
                                </div>
                                
                                <div className="hidden lg:flex items-center gap-1 overflow-x-auto no-scrollbar mx-4">
                                    {navItems.map(item => (
                                        <button 
                                            key={item.id} 
                                            onClick={() => setPage(item.id)} 
                                            className={`px-3 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all ${
                                                page === item.id 
                                                    ? (scrolled ? 'bg-emerald-100 text-emerald-700' : 'bg-white/20 text-white') 
                                                    : (scrolled ? 'text-slate-500 hover:bg-slate-100' : 'text-emerald-100 hover:text-white hover:bg-white/10')
                                            }`}
                                        >
                                            {item.label}
                                        </button>
                                    ))}
                                </div>

                                <div className="flex items-center gap-2">
                                    <div className="relative">
                                        <button 
                                            onClick={() => setShowLangMenu(!showLangMenu)}
                                            className={`flex items-center gap-1 px-3 py-2 rounded-full font-bold text-xs transition-colors ${scrolled ? 'bg-slate-100 text-slate-600 hover:bg-slate-200' : 'bg-white/10 text-white hover:bg-white/20'}`}
                                        >
                                            <Globe size={16}/> {currentLang.toUpperCase()}
                                        </button>
                                        {showLangMenu && (
                                            <div className="absolute right-0 mt-2 w-32 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden animate-fade-in text-slate-800">
                                                <button onClick={() => changeLang('zh')} className="block w-full text-left px-4 py-3 hover:bg-emerald-50 text-sm font-bold">ç¹é«”ä¸­æ–‡</button>
                                                <button onClick={() => changeLang('en')} className="block w-full text-left px-4 py-3 hover:bg-emerald-50 text-sm font-bold">English</button>
                                                <button onClick={() => changeLang('id')} className="block w-full text-left px-4 py-3 hover:bg-emerald-50 text-sm font-bold">Indonesia</button>
                                            </div>
                                        )}
                                    </div>

                                    <button onClick={() => setMenuOpen(!menuOpen)} className={`lg:hidden p-2 ${scrolled ? 'text-slate-800' : 'text-white'}`}>{menuOpen ? <X size={24}/> : <Menu size={24}/>}</button>
                                </div>
                            </div>
                        </div>
                        
                        {menuOpen && (
                            <div className="lg:hidden absolute top-full left-0 w-full bg-white border-t border-slate-100 shadow-xl animate-fade-in">
                                <div className="p-4 space-y-2">
                                    {navItems.map(item => (
                                        <button key={item.id} onClick={() => setPage(item.id)} className={`block w-full text-left px-4 py-3 rounded-xl text-base font-bold ${page === item.id ? 'bg-emerald-50 text-emerald-700' : 'text-slate-600 hover:bg-slate-50'}`}>{item.label}</button>
                                    ))}
                                </div>
                            </div>
                        )}
                    </nav>

                    <main className="min-h-screen pt-16">
                        {renderPage()}
                    </main>
                    
                    <SOSButton onClick={() => setPage('safety')} label={t.nav.safety} />

                    <footer className="bg-slate-900 text-slate-400 py-16">
                        <div className="max-w-6xl mx-auto px-4 grid md:grid-cols-4 gap-12 mb-12">
                            <div className="col-span-1 md:col-span-2">
                              <div className="flex items-center gap-2 text-white font-bold text-2xl mb-6">
        <img src="Logo.PNG" className="w-20 h-20 object-contain bg-white rounded-md" /> 
        {t.title}
      </div>
                                <p className="text-sm leading-relaxed max-w-sm">å…±æ§‹é›²å˜‰è¾²æ¥­å·¥ä½œè€…è·æ¥­å¥åº·çš„ç¤¾æœƒå®‰å…¨ç¶²ã€‚</p>
                            </div>
                            <div>
                                <h4 className="text-white font-bold mb-6">è¯çµ¡æˆ‘å€‘</h4>
                                <ul className="space-y-3 text-sm">
                                    <li>æŒ‡å°å–®ä½ï¼šåœ‹å®¶ç§‘å­¸å§”å“¡æœƒ</li>
                                    <li>è¨ˆç•«ä¸»æŒå–®ä½ï¼šåœ‹ç«‹ä¸­æ­£å¤§å­¸</li>
                                    <li>åˆä½œå¤¥ä¼´ï¼šè‡ºå¤§é†«é™¢é›²åˆ†é™¢-è¾²æ¥­ç’°å¢ƒèˆ‡è·æ¥­å¥åº·ä¸­å¿ƒã€æ°‘é›„é„‰è¾²æœƒ</li>
                                </ul>
                            </div>
                        </div>
                        <div className="max-w-6xl mx-auto px-4 pt-8 border-t border-slate-800 text-center text-xs">Â© 2025 Dignified Agriculture Project.</div>
                    </footer>
                </div>
            );
        }

        // æ¸²æŸ“ App
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
